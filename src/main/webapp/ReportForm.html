<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-150138651-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'UA-150138651-1');
  </script>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, user-scalable=no">

  <title>RemotePrint.tools</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link rel=icon href="assets/img/printerFavicon.png">

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/venobox/venobox.css" rel="stylesheet">
  <link href="assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
  <link href="assets/css/style.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Baloo+Da+2:wght@500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Sahitya:wght@400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.5.207/pdf.js"> </script>
  <style>
    .alertSuccess {
      padding: 20px;
      background-color: #80ba77;
      color: white;
      border-radius: 4px;
    }

    .alertFail {
      padding: 20px;
      background-color: #f44336;
      color: white;
      border-radius: 4px;
    }

    .closebtn {
      margin-left: 15px;
      color: white;
      font-weight: bold;
      float: right;
      font-size: 22px;
      line-height: 20px;
      cursor: pointer;
      transition: 0.3s;
    }

    .closebtn:hover {
      color: black;
    }

    .nav-pills .nav-link.active {
      background-color: #5992DD;
    }

    .rupee {
      /* font-family: 'Baloo Da 2', cursive; */
      font-family: 'Sahitya', serif;
      /* font-family: 'Inter', sans-serif; */
      font-size: 28pt;
    }

    .grid-container {
      display: grid;
      padding: 0;
      grid-template-columns: 3ch 1fr;
      align-items: baseline;
    }

    .grid-container input {
      grid-column-start: 1;
    }

    .grid-container label {
      grid-column-start: 2;
    }
  </style>

</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center">

      <h1 class="logo mr-auto"><a href="index.html">RemotePrint.tools</a></h1>

      <nav class="nav-menu d-none d-lg-block">
        <ul>
          <li><a href="index.html">Home</a></li>
          <li class="active"><a href="ReportForm.html"> Get Started </a></li>
          <li><a href="checkStatus.html"> Check Status </a></li>
          <li><a href="tandc.html"> T & C </a></li>
        </ul>
      </nav>




    </div>
  </header><!-- End Header -->

  <!-- ======= Hero Section ======= -->

  <!-- End Hero -->

  <main id="main">
    <!-- ======= Contact Section ======= -->
    <section id="contact" class="contact">
      <div class="container">

        <div class="section-title">
          <!-- <span>Report Print</span> -->
          <h2>Print Report</h2>
        </div>

        <div class="row">


          <div class="col-sm-6" style="object-fit: contain;">
            <img src="assets/img/FormArtWork.svg" alt="Workflow Diagram" style="object-fit: contain;width: 100%;">
          </div>
          <div class="col-sm-6">

            <form form action="submit" method="post" role="form" class="php-email-form" id="form-main">

              <div class="form-group">
                <label for="name">Full Name</label>
                <input type="text" class="form-control" name="name" data-rule="lenRange:4,30"
                  data-msg="Please enter a valid full name" />
                <div class="validate"></div>
              </div>

              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="name">Email</label>
                  <input type="email" class="form-control" name="email" data-rule="email"
                    data-msg="Please enter a valid email" />
                  <div class="validate"></div>
                </div>

                <div class="form-group col-md-6">
                  <label for="name">Phone Number</label>
                  <div class="input-group mb-2">
                    <div class="input-group-prepend">
                      <div class="input-group-text">+91</div>
                    </div>
                    <input onchange="generateQRCode()" type="text" id="phoneNumber" class="form-control"
                      name="phoneNumber" data-rule="lenRange:10,10" data-msg="Please enter a valid number" />
                  </div>
                  <div class="validate"></div>
                </div>
              </div>

              <div class="form-group">
                <label for="collegeName">College</label>
                <select class="form-control" name="college" id="collegeName">
                  <option>RV College of EngineeringÂ®</option>
                </select>
                <div class="validate"></div>
              </div>

              <div class="form-group">
                <label for="name">USN</label>
                <input onchange="generateQRCode()" type="text" id="USN" class="form-control" name="usn"
                  data-rule="lenRange:10,11" data-msg="Please enter a valid USN" />
                <div class="validate"></div>
              </div>

              <div class="form-group">
                <label for="name">Guide Name</label>
                <input type="text" class="form-control" name="guideName" data-rule="lenRange:3,45"
                  data-msg="Please fill this field" />
                <div class="validate"></div>
              </div>

              <div class="form-group">
                <label for="name">Department</label>
                <select id="department" onchange="updateModalMessage()" class="form-control" name="department">
                  <option selected>Computer Science and Engineering</option>
                  <option>Electronics and Communication Engineering</option>
                  <option>Information Science and Engineering</option>
                  <option>Aerospace Engineering</option>
                  <option>Biotechnology</option>
                  <option>Chemical Engineering</option>
                  <option>Civil Engineering</option>
                  <option>Electrical and Electronics Engineering</option>
                  <option>Electronics and Instrumentation Engineering</option>
                  <option>Industrial Engineering and Management</option>
                  <option>Mechanical Engineering</option>
                  <option>Telecommunication Engineering</option>
                </select>
              </div>

              <br>

              <div id="formatingOptions" class="form-group" disabled>
                <label for="name">Formatting Options</label>
                <hr>

                <div class="form-group" style=" margin-bottom: 0;">
                  <!-- Print Type  -->
                  <input style="height: 1em; width: 1.5em; margin: 5px;" type="radio" name="printType"
                    value="draftCopy">
                  <label for="singleSided">Draft Copy &nbsp;&nbsp;</label>
                  <label for="doubleSided" style=" display:inline-block">
                    <input style="height: 1em; width: 1.5em; margin: 5px;" type="radio" id="finalCopyOption"
                      name="printType" value="finalCopy">
                    Final Copy (CSE & ECE)<button type="button" class="btn btn-link" data-toggle="modal"
                      style="padding: 0px; padding-left: 3px;" data-target="#exampleModalCenter"><sup>
                        <img src="assets/img/info.svg"></sup>
                    </button></label>
                  <hr>

                  <!-- Modal -->
                  <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog"
                    aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title" id="exampleModalLongTitle">Final Copy Formatting</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div id="finalCopyModalMessage" class="modal-body">
                          <ul id="modalNavPill" " class=" nav nav-pills nav-fill border style"
                            style="border-radius: 4px; border-color: #dfdfdf; margin: 10px;">
                            <li class="nav-item">
                              <a id="cseOption" class="nav-link active" onclick="updateModalMessageCSE()">CSE</a>
                            </li>
                            <li class="nav-item">
                              <a id="eceOption" class="nav-link" onclick="updateModalMessageECE()">ECE</a>
                            </li>
                          </ul>
                          <div id="modalMessage">
                            Final Copy is currently available for CSE as the format has been confirmed by the
                            Department. The <strong>Final Copy</strong> option has the following formatting by default:
                            <br><br>
                            <ul>
                              <li>A4 Size Bond Sheets</li>
                              <li>Single Sided</li>
                              <li>Color Print for all pages</li>
                              <li>OHP Sheets for Certificates and Chapters</li>
                              <li>Hard Binding with Light Pink Cover and Transaprent Jacket</li>
                            </ul>
                          </div>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="form-group" id="final" style="margin-bottom: 0;">
                    <label for="noCopies">Number of Copies</label>
                    <select class="form-control" name="numberOfCopies" id="noCopies">
                      <option selected>1</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5</option>
                    </select>
                    <hr>
                  </div>


                  <div class="form-group" id="draft" style="margin-bottom: 0;">
                    <!-- Print Color -->
                    <input style="height: 1em; width: 1.5em; margin: 5px;" type="radio" name="color" value="10">
                    <label for="BW">Black & White &nbsp;&nbsp;&nbsp;&nbsp;</label><br>
                    <input style="height: 1em; width: 1.5em; margin: 5px;" type="radio" name="color" value="20">
                    <label for="color">Color</label><br>
                    <hr>

                    <!-- Single/Double Sided -->
                    <div class="grid-container">
                      <input style="height: 1em; width: 1.5em; margin: 5px;" type="radio" name="sides" value="1">
                      <label for="singleSided">Single Sided &nbsp;&nbsp;</label>
                      <input style="height: 1em; width: 1.5em; margin: 5px;" type="radio" name="sides" value="2">
                      <label for="doubleSided">Double Sided</label>
                      <input class="longRadio" style="height: 1em; width: 1.5em; margin: 5px;" type="radio" name="sides"
                      value="3">
                      <label>Initial Pages ( 1 Sided ) + Other Pages ( 2 Sided )</label>
                    </div>
                    <hr>

                    <!-- Spiral Bind Color -->
                    <label for="collegeName">Spiral Bind Color</label>
                    <select class="form-control" name="bindingColor" id="spiralBindColor">
                      <option>Light Yellow</option>
                      <option>Light Blue</option>
                      <option>Light Pink</option>
                      <option>Light Green</option>
                      <option>None</option>
                    </select>
                    <hr>
                  </div>
                </div>

                <div class="form-row">
                  <div class="form-group col-md-3 ">
                    <button class="get-started-btn btn-block" id="upload-button"
                      style=" margin-left: 0px;margin-right: 10px; padding: 11px;" type="button">Select
                      File</button>
                    <input type="file" id="file-input" style="display: none;" accept=".pdf" />
                  </div>

                  <div class="form-group col-md-9">
                    <input style="padding: 10px;" type="text" class="form-control" name="fileNameActual"
                      id="fileNameActual" disabled />
                  </div>
                </div>

                <div>
                  <hr>
                  <div class="form-row text-center">
                    <input type="hidden" class="form-control" name="fileName" id="fileName" value="" />
                    <input type="hidden" class="form-control" name="numberOfPages" id="numberOfPages" value="" />
                    <input type="hidden" class="form-control" name="cost" id="cost" value="" />

                    <div class="form-group col-md-8" id="Cost" style="font-size: 24pt; margin-bottom: 0;"></div>

                    <div class="form-group col-md-4 " style=" margin-bottom: 0;">
                      <a id="mobilePaymentLink"><button id="pay-button" class="get-started-btn btn-block"
                          style=" margin-left: 0px;margin-right: 10px; padding: 11px; margin-top: 5px; background-size: 5px auto;"
                          type="button">
                          <img src="https://upload.wikimedia.org/wikipedia/commons/e/e1/UPI-Logo-vector.svg"
                            height="25px" />
                          Pay</button></a>
                      <input type="file" id="file-input" style="display: none;" accept=".pdf" />
                    </div>
                  </div>
                  <hr>
                </div>

                <div id="Payment" style="display: none;">
                  <div class="form-row">
                    <div class="Cost col-md-6 col-sm-12">
                      <br>
                      <strong>
                        <div id="uniqueFileNameLabel" style="font-size: large;"></div>
                      </strong>
                      <br>
                      <strong>
                        <div id="vpa" style="font-size: large;"></div>
                      </strong>
                    </div>

                    <div class="QRcode col-md-6 col-sm-12">
                      <div id="QRCode" class="text-center" style="display: none; margin-left: 30px;"></div>
                    </div>
                  </div>
                  <br>
                  <div class="form-group">
                    <label for="transactionId">12 Digit UPI Transaction ID (UTR)</label>
                    <input type="text" class="form-control" name="transactionId" data-rule="lenRange:12,12"
                      data-msg="Please fill the 12 digit Transaction ID" />
                    <div class="validate"></div>
                  </div>
                  <hr>
                </div>





                <div class="form-group">
                  <input type="checkbox" value="Bike" id="tandc" style="height: 1em; width: 1.5em; margin: 5px;">
                  <label for="tandc">I have read and I agree with the <a href="tandc.html" target="_blank">terms and
                      conditions</a>.</label><br>
                </div>



                <div class="form-group text-center">
                  <button class="btn btn-primary btn-block" style="margin-left: 0;" type="submit" id="submit-button"
                    method="post">Submit</button>
                </div>
                <div class="mb-3">
                  <div class="loading">Loading</div>
                  <div class="error-message">Oops! There seems to be a networking issue.</div>
                  <div class="sent-message">Awesome! Your submission has been recorded. You will recieve an email
                    shortly.
                  </div>
                </div>
            </form>

          </div>

        </div>

      </div>
    </section>
    <!-- End Contact Section -->

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer">



    <div class="container footer-top">
      <div class="copyright">
        &copy; Copyright <strong><span>RemotePrint.tools</span></strong>. All Rights Reserved Contact us at
        <strong>remoteprint.tools@gmail.com<strong>
      </div>
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/js/azure-storage-blob.js" charset="utf-8"></script>
  <script src="https://cdnjs.com/libraries/pdf.js" charset="utf-8"></script>
  <script src="assets/vendor/jquery/jquery.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="assets/vendor/waypoints/jquery.waypoints.min.js"></script>
  <script src="assets/vendor/counterup/counterup.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/venobox/venobox.min.js"></script>
  <script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>

  <script src="assets/js/main.js"></script>
  <script>
    // You'll add code here in the following sections.
    const selectButton = document.getElementById("upload-button");
    const payButton = document.getElementById("pay-button");
    const fileInput = document.getElementById("file-input");
    const fileSelector = document.getElementById('file-input');
    const submitButton = document.getElementById('submit-button');
    const costLabel = document.getElementById("Cost")
    const formatingOptions = document.getElementById("formatingOptions")
    const draft = document.getElementById("draft");
    const final = document.getElementById("final");
    const finalCopyOption = document.getElementById("finalCopyOption");
    var x = document.getElementById("tandc").required = true;
    var numberOfCopies = document.getElementById("noCopies");
    var fileName;
    var count = 1;
    var cost;
    var upiName = 'aditya.sreerama';
    var bankName = 'ybl';
    var phoneNumber = "";
    var USN = "";
    draft.style.display = 'none';
    final.style.display = 'none';
    submitButton.disabled = true;
    payButton.disabled = true;
    var isCountUpdated = false;

    if (deviceIsMobile()) {
      document.getElementById("Payment").className = "text-center"
    }

    //Event Listeners
    selectButton.addEventListener("click", () => fileInput.click());
    payButton.addEventListener("click", initiatePayment);

    var color = document.getElementsByName('color');
    for (var i = 0; i < color.length; i++) {
      color[i].onclick = function () {
        calculateCost()
      }
    }
    var printType = document.getElementsByName('printType');


    var sides = document.getElementsByName('sides');
    for (var i = 0; i < sides.length; i++) {
      sides[i].onclick = function () {
        calculateCost()

      }
    }


    for (var i = 0; i < printType.length; i++) {
      printType[i].onclick = function () {
        openSesame()
      }
    }

    function openSesame() {
      var printTypeValue;
      for (var i = 0; i < printType.length; i++) {
        if (printType[i].checked) {
          printTypeValue = printType[i].value;
        }
      }

      if (printTypeValue == "draftCopy") {
        draft.style.display = ''
        final.style.display = 'none'
      } else {
        draft.style.display = 'none'
        final.style.display = ''
      }
      calculateCost()
    }



    function generateSegment(length) {
      var result = '';
      var characters = 'abcdefghijklmnopqrstuvwxyz';
      var charactersLength = characters.length;
      for (var i = 0; i < length; i++) {
        result += characters.charAt(Math.floor(Math.random() * charactersLength));
      }
      return result;
    }

    function generateUniqueID() {
      return generateSegment(4) + '-' + generateSegment(4)
    }

    function initiatePayment() {
      document.getElementById("Payment").style.display = ''
      fileName = generateUniqueID()
      setFileName()
      uploadFiles()
      generateQRCode()
      document.getElementById("QRCode").style.display = ''
      submitButton.disabled = false;
      payButton.disabled = true;
      document.getElementById("vpa").innerHTML = 'VPA : aditya.sreerama@ybl'
      disableRadioButtons()
    }

    function updateModalMessage() {
      var department = document.getElementById("department").value
      if (department == "Computer Science and Engineering") {
        updateModalMessageCSE()
      }
      if (department == "Electronics and Communication Engineering") {
        updateModalMessageECE()
      }
    }


    function updateModalMessageCSE() {
      document.getElementById("modalNavPill").innerHTML =
        '<li class="nav-item"> <a id="cseOption" class="nav-link active" onclick="updateModalMessageCSE()">CSE</a> </li><li class="nav-item"> <a id="eceOption" class="nav-link" onclick="updateModalMessageECE()">ECE</a> </li>'

      document.getElementById("modalMessage").innerHTML =
        'Final Copy is currently available for CSE as the format has been confirmed by the Department. The <strong>Final Copy</strong> option has the following formatting by default: <br><br><ul> <li>A4 Size Bond Sheets</li><li>Single Sided</li><li>Color Print for all pages</li><li>OHP Sheets for Certificates and Chapters</li><li>Hard Binding with Light Pink Cover and Transaprent Jacket</li></ul>'
    }

    function updateModalMessageECE() {
      document.getElementById("modalNavPill").innerHTML =
        '<li class="nav-item"> <a id="cseOption" class="nav-link" onclick="updateModalMessageCSE()">CSE</a> </li><li class="nav-item"> <a id="eceOption" class="nav-link active" onclick="updateModalMessageECE()">ECE</a> </li>'

      document.getElementById("modalMessage").innerHTML =
        'Final Copy is currently available for ECE as the format has been confirmed by the Department. The <strong>Final Copy</strong> option has the following formatting by default: <br><br><ul> <li>A4 Size Bond Sheets</li><li>Single Sided</li><li>Color Print for all pages</li><li>OHP Sheets for <ul><li>Cover Page</li><li>College Certificate</li><li>Internship Certificate</li><li>Declaration</li><li>All Chapters</li></ul></li><li>Hard Binding with Sky Blue Cover and Transparent Jacket</li></ul>'
    }

    function deviceIsMobile() {

      if (
        /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i
        .test(navigator.userAgent) ||
        /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i
        .test(navigator.userAgent.substr(0, 4))) {
        return true
      } else {
        return false
      }
    }

    function disableRadioButtons() {
      var color = document.getElementsByName('color');
      for (var i = 0; i < color.length; i++) {
        color[i].readOnly = true;
      }

    }

    function setFileName() {
      var fileNameText = document.getElementById("uniqueFileNameLabel")
      fileNameText.innerHTML = "Order ID : " + fileName;
      var fileNameInput = document.getElementById("fileName");
      fileNameInput.value = fileName;
    }
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.5.207/pdf.worker.js';
    fileSelector.addEventListener('change', (event) => {
      isCountUpdated = false;
      const fileList = event.target.files;
      var reader = new FileReader();
      var file = event.target.files[0];
      reader.readAsBinaryString(fileList[0]);
      var fileReader = new FileReader();
      fileReader.readAsArrayBuffer(file);

      fileReader.onload = function () {
        var typedarray = new Uint8Array(this.result);
        const loadingTask = pdfjsLib.getDocument(typedarray);
        loadingTask.promise.then(pdf => {
          count = pdf._pdfInfo.numPages
          isCountUpdated = true;
          document.getElementById("numberOfPages").value = count
          console.log("Number of Pages from moz: " + count);
          calculateCost();
        })
      }

      submitButton.disabled = true;
      resetPaymentInfo();
      reader.onloadend = function () {
        countOld = reader.result.match(/\/Type[\s]*\/Page[^s]/g).length;

        console.log('Number of Pages:', countOld);
        document.getElementById("fileNameActual").value = fileInput.files[0].name
        document.getElementById("numberOfPages").value = count
        calculateCost()
        document.getElementById("Cost").style.display = ''
        try {
          if (fileInput.files[0].name) {
            payButton.disabled = false;

          }
        } catch {
          console("File Not Selected Exception")
        }
      }
    });





    function resetPaymentInfo() {
      costLabel.innerHTML = '';
      document.getElementById("QRCode").style.display = 'none';
      document.getElementById("uniqueFileNameLabel").innerHTML = ''
      document.getElementById("vpa").innerHTML = ''


    }
    document.getElementById("spiralBindColor").onchange = function () {
      calculateCost()
    }
    numberOfCopies.onchange = function () {
      calculateCost()
    }

    function calculateCost() {

      var spiralBindCost = 30
      var costMap = new Map()
      var bw1sps = 1.5
      var bw2sps = 1
      var c1sps = 5.5
      var c2sps = 4
      var surcharge = 5
      spiralBindCost = (document.getElementById("spiralBindColor").value == "None") ? 0 : 30;
      var baseCharge = 30;
      var c1spsf = 5
      var t1spsf = 5
      var hardBind = 65
      var frontPage = 10


      costMap.set("101", bw1sps)
      costMap.set("102", bw2sps)
      costMap.set("201", c1sps)
      costMap.set("202", c2sps)

      var color = document.getElementsByName('color');
      var colorValue;
      for (var i = 0; i < color.length; i++) {
        if (color[i].checked) {
          colorValue = color[i].value;
        }
      }

      var sides = document.getElementsByName('sides');
      var sidesValue;
      for (var i = 0; i < sides.length; i++) {
        if (sides[i].checked) {
          sidesValue = sides[i].value;
        }
      }

      var typeValue = colorValue + sidesValue

      if (typeValue != "103" && typeValue != "203") {
        cost = count * costMap.get(colorValue + sidesValue) + spiralBindCost
      } else {
        cost = 12 * costMap.get(colorValue + "1") + (count - 12) * costMap.get(colorValue + "2") + spiralBindCost +
          surcharge
      }

      if (cost <= 30) {
        cost = baseCharge;
      }
      if (finalCopyOption.checked && isCountUpdated) {
        cost = (((count) * c1spsf) + 15 * t1spsf + hardBind + frontPage) * numberOfCopies.value;
      }
      cost = cost.toFixed(2);
      costLabel.innerHTML = '<strong><span class="rupee">&#8377  </span>' + cost + '</strong>'; //rupee

      document.getElementById("cost").value = cost
      generateQRCode()
    }


    function generateQRCode() {
      USN = document.getElementById("USN").value;
      phoneNumber = document.getElementById("phoneNumber").value;
      var upiLink = 'upi://pay?pa=' + upiName +
        '@' + bankName + '&pn=RemotePrint.tools&am=' + cost + '&cu=INR&tn=' + fileName + ' ' +
        USN + ' ' + phoneNumber;

      var encodedURL = encodeURIComponent(upiLink);

      document.getElementById("QRCode").innerHTML =
        '<img src="https://chart.googleapis.com/chart?cht=qr&chs=200x200&chl=' + encodedURL + '">'

      if (deviceIsMobile()) {
        document.getElementById("mobilePaymentLink").href = upiLink
      }
    }

    //AZURE FUNCTIONS START
    const accountName = "reportprintstorage";
    const sasString =
      "?sv=2019-10-10&ss=b&srt=sco&sp=wx&se=2020-08-30T03:26:10Z&st=2020-06-08T19:26:10Z&sip=0.0.0.0-255.255.255.255&spr=https&sig=ag314dUSt9%2B64VfqJpZ%2BI9RNq1gZYvA6%2FbAlSvIq3Eg%3D";
    const containerName = "testcontainer";
    const containerURL = new azblob.ContainerURL(
      `https://${accountName}.blob.core.windows.net/${containerName}?${sasString}`,
      azblob.StorageURL.newPipeline(new azblob.AnonymousCredential));

    const uploadFiles = async () => {
      try {
        const promises = [];

        for (const file of fileInput.files) {
          var filetype = file.name.split("\.")[1];
          if (file.type == "application/pdf") {
            const blockBlobURL = azblob.BlockBlobURL.fromContainerURL(containerURL, fileName + ".pdf");
            promises.push(azblob.uploadBrowserDataToBlockBlob(
              azblob.Aborter.none, file, blockBlobURL));
          } else {
            //error comment for wrong file
          }
        }
        await Promise.all(promises);
      } catch (error) {
        console.log('Error in Azure Upload Function');
      }
    }
    var fullForm = document.getElementById("form-main");

    //AZURE FUNCTIONS END
  </script>

  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

</body>

</html>