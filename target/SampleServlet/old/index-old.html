<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Home</title>
    <style id="applicationStylesheet" type="text/css">
        body {
            margin: 0;
            padding: 0;
        }
        :root {
            --web-view-ids: Web_1920___8;
        }
		.textbox{
		border: none;
  padding-left:10em
  height: 60px;
  width: 380px;
  font-family: Product Sans;
  font-size: 35px;
}
.textbox:focus{
    outline:none;
    border: none;

}
.textbox1{
		border: none;
  padding-left:40em
  height: 60px;
  width: 380px;
  font-family: Product Sans;
  font-size: 35px;

}
.textbox1:focus{
    outline:none;
    border: none;

}
        #Web_1920___8 * {
            margin: 0;
            padding: 0;
        }
        #Web_1920___8 {
            position: absolute;
            box-sizing: border-box;
            background: #E5E5E5;
            width: 1920px;
            height: 904px;
            background-color: rgba(255,255,255,1);
            overflow: hidden;
            margin: 0;
            padding: 0;
            opacity: 1;
            --web-view-name: Web 1920 â€“ 8;
            --web-view-id: Web_1920___8;
            --web-scale-to-fit: true;
            --web-scale-on-resize: true;
            --web-enable-deep-linking: true;
        }
        #Rectangle_33 {
            opacity: 1;
            fill: rgba(235,235,235,1);
            stroke: rgb(112, 112, 112);
            stroke-width: 1px;
            stroke-linejoin: miter;
            stroke-linecap: butt;
            stroke-miterlimit: 4;
            shape-rendering: auto;
        }
        .Rectangle_33 {
            position: absolute;
            overflow: visible;
            width: 1920px;
            height: 904px;
            left: 0px;
            top: 0px;
        }
        #Rectangle_1 {
            opacity: 1;
            fill: rgba(32,127,255,1);
        }
        .Rectangle_1 {
            position: absolute;
            overflow: visible;
            width: 1920px;
            height: 68px;
            left: 0px;
            top: 836px;
        }
        #settings {
            opacity: 1;
            position: absolute;
            width: 42.5px;
            height: 42.5px;
            left: 18px;
            top: 849px;
            overflow: visible;
        }
        #Group_21 {
            opacity: 1;
            position: absolute;
            width: 42.5px;
            height: 42.5px;
            left: 0px;
            top: 0px;
            overflow: visible;
        }
        #Path_20 {
            opacity: 1;
            fill: rgba(255,255,255,1);
        }
        .Path_20 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 0px;
            left: 0px;
            width: 42.5px;
            height: 42.5px;
        }
        #Path_21 {
            opacity: 1;
            fill: rgba(255,255,255,1);
        }
        .Path_21 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 12.074px;
            left: 12.083px;
            width: 18.342px;
            height: 18.342px;
        }
        #Rectangle_26 {
            opacity: 1;
            filter: drop-shadow(5px 5px 8px rgba(0, 0, 0, 0.161));
            fill: rgba(255,255,255,1);
        }
        .Rectangle_26 {
            position: absolute;
            overflow: visible;
            width: 1087px;
            height: 706px;
            left: 400px;
            top: 97px;
        }
        #vote {
            opacity: 1;
            position: absolute;
            width: 234.518px;
            height: 247.077px;
            left: 1607px;
            top: 588.924px;
            overflow: visible;
        }
        #Path_90 {
            opacity: 1;
            fill: rgba(153,100,89,1);
        }
        .Path_90 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 23.792px;
            left: 58.336px;
            width: 44.157px;
            height: 219.471px;
        }
        #Path_91 {
            opacity: 1;
            fill: rgba(135,88,80,1);
        }
        .Path_91 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 23.792px;
            left: 63.705px;
            width: 38.789px;
            height: 219.471px;
        }
        #Path_92 {
            opacity: 1;
            fill: rgba(248,162,139,1);
        }
        .Path_92 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 48.503px;
            left: 0px;
            width: 147.847px;
            height: 98.489px;
        }
        #Path_93 {
            opacity: 1;
            fill: rgba(245,140,121,1);
        }
        .Path_93 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 48.503px;
            left: 78.454px;
            width: 67.309px;
            height: 56.072px;
        }
        #Path_94 {
            opacity: 1;
            fill: rgba(255,255,255,1);
        }
        .Path_94 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 76.535px;
            left: 49.728px;
            width: 50.658px;
            height: 46.325px;
        }
        #Path_95 {
            opacity: 1;
            fill: rgba(153,100,89,1);
        }
        .Path_95 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 0px;
            left: 126.847px;
            width: 46.981px;
            height: 243.264px;
        }
        #Path_96 {
            opacity: 1;
            fill: rgba(135,88,80,1);
        }
        .Path_96 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 0px;
            left: 135.659px;
            width: 38.169px;
            height: 243.263px;
        }
        #Path_97 {
            opacity: 1;
            fill: rgba(239,242,250,1);
        }
        .Path_97 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 72.334px;
            left: 77.875px;
            width: 18.43px;
            height: 24.42px;
        }
        #Path_98 {
            opacity: 1;
            fill: rgba(255,215,130,1);
        }
        .Path_98 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 7.257px;
            left: 86.547px;
            width: 147.972px;
            height: 98.614px;
        }
        #Path_99 {
            opacity: 1;
            fill: rgba(255,255,255,1);
        }
        .Path_99 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 38.168px;
            left: 128.308px;
            width: 57.823px;
            height: 39.026px;
        }
        #Path_100 {
            opacity: 1;
            fill: rgba(92,84,106,1);
        }
        .Path_100 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 239.45px;
            left: 65.182px;
            width: 101.698px;
            height: 7.627px;
        }
        #Passphrase {
            opacity: 1;
            position: absolute;
            left: 453px;
            top: 399px;
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            overflow: visible;
            width: 217px;
            white-space: nowrap;
            text-align: left;
            font-family: Product Sans;
            font-style: normal;
            font-weight: normal;
            font-size: 44px;
            color: rgba(141,141,141,1);
        }
        #VoterID {
            opacity: 1;
            position: absolute;
            left: 453px;
            top: 513px;
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            overflow: visible;
            width: 146px;
            white-space: nowrap;
            text-align: left;
            font-family: Product Sans;
            font-style: normal;
            font-weight: normal;
            font-size: 44px;
            color: rgba(141,141,141,1);
        }
        #Line_4 {
            opacity: 1;
            fill: transparent;
            stroke: rgb(112, 112, 112);
            stroke-width: 1px;
            stroke-linejoin: miter;
            stroke-linecap: butt;
            stroke-miterlimit: 4;
            shape-rendering: auto;
        }
        .Line_4 {
            overflow: visible;
            position: absolute;
            top: 448.5px;
            left: 701.5px;
            width: 684px;
            height: 1px;
        }
        #Line_5 {
            opacity: 1;
            fill: transparent;
            stroke: rgb(112, 112, 112);
            stroke-width: 1px;
            stroke-linejoin: miter;
            stroke-linecap: butt;
            stroke-miterlimit: 4;
            shape-rendering: auto;
        }
        .Line_5 {
            overflow: visible;
            position: absolute;
            top: 565.5px;
            left: 701.5px;
            width: 684px;
            height: 1px;
        }
        #Rectangle_34 {
            opacity: 1;
            fill: rgba(32,127,255,1);
        }
        .Rectangle_34 {
            position: absolute;
            overflow: visible;
            width: 353.156px;
            height: 76px;
            left: 755px;
            top: 636px;
        }
        #Login {
            opacity: 1;
            position: absolute;
            left: 810.729px;
            top: 648px;
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            overflow: visible;
            width: 243px;
            white-space: nowrap;
            text-align: center;
            font-family: Product Sans;
            font-style: normal;
            font-weight: normal;
            font-size: 43px;
            color: rgba(255,255,255,1);
        }
        #Connected {
            opacity: 0.75;
            position: absolute;
            left: 834px;
            top: 844px;
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            overflow: visible;
            width: 211px;
            white-space: nowrap;
            text-align: center;
            font-family: Product Sans;
            font-style: normal;
            font-weight: normal;
            font-size: 43px;
            color: rgba(255,255,255,1);
        }
        #Mask_Group_3 {
            opacity: 1;
            position: absolute;
            width: 291px;
            height: 291px;
            left: 784px;
            top: 124px;
            overflow: visible;
        }
        #______ {
            opacity: 1;
            position: absolute;
            left: 713px;
            top: 393px;
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            overflow: visible;
            width: 143px;
            white-space: nowrap;
            text-align: center;
            font-family: Product Sans;
            font-style: normal;
            font-weight: normal;
            font-size: 54px;
            color: rgba(50,50,50,1);
        }
        #s34sf35 {
            opacity: 1;
            position: absolute;
            left: 713px;
            top: 490px;
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            overflow: visible;
            width: 189px;
            white-space: nowrap;
            text-align: center;
            font-family: Product Sans;
            font-style: normal;
            font-weight: normal;
            font-size: 54px;
            color: rgba(50,50,50,1);
        }
        #Group_83 {
            opacity: 1;
            position: absolute;
            width: 36.876px;
            height: 46.862px;
            left: 1855px;
            top: 847px;
            overflow: visible;
        }
        #sync {
            opacity: 1;
            position: absolute;
            width: 36.877px;
            height: 46.862px;
            left: 0px;
            top: 0px;
            overflow: visible;
        }
        #Path_125 {
            opacity: 1;
            fill: rgba(255,255,255,1);
        }
        .button1 {
            background-color: transparent;
            color: white;
			border: none;
            font-family: Product Sans;
            padding: 50px 50px;
            font-size: 16px;
			line-height: 60px;
			box-sizing: content-box;
  -webkit-box-sizing: content-box;
  -moz-box-sizing: content-box;

        }
        .Path_125 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 8.253px;
            left: 11.827px;
            width: 25.05px;
            height: 38.609px;
        }
        #Path_126 {
            opacity: 1;
            fill: rgba(255,255,255,1);
        }
        .Path_126 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 0px;
            left: 0px;
            width: 25.05px;
            height: 38.61px;
        }
        #tick {
            opacity: 1;
            position: absolute;
            width: 16.271px;
            height: 11.949px;
            left: 10px;
            top: 17px;
            overflow: visible;
        }
        #Group_82 {
            opacity: 1;
            position: absolute;
            width: 16.271px;
            height: 11.949px;
            left: 0px;
            top: 0px;
            overflow: visible;
        }
        #Path_127 {
            opacity: 1;
            fill: rgba(255,255,255,1);
        }
        .Path_127 {
            transform: matrix(1,0,0,1,0,0);
            overflow: visible;
            position: absolute;
            top: 0px;
            left: 0px;
            width: 16.271px;
            height: 11.949px;
        }
    </style>
</head>
<body>
<div id="Web_1920___8">
    <svg class="Rectangle_33">
        <rect id="Rectangle_33" rx="0" ry="0" x="0" y="0" width="1920" height="904">
        </rect>
    </svg>
    <svg class="Rectangle_1">
        <rect id="Rectangle_1" rx="0" ry="0" x="0" y="0" width="1920" height="68">
        </rect>
    </svg>
    <div id="settings">
        <div id="Group_21">
            <svg viewBox="0 0.001 42.5 42.5" class="Path_20">
                <path id="Path_20" d="M 40.32458877563477 16.78958892822266 L 37.34152603149414 16.28353309631348 C 37.03079223632813 15.28030204772949 36.63127899169922 14.31258296966553 36.14297866821289 13.38925457000732 L 37.90085220336914 10.93000411987305 C 38.64661407470703 9.882382392883301 38.53120040893555 8.452999114990234 37.61675262451172 7.547427177429199 L 34.9710578918457 4.901735782623291 C 34.47388076782227 4.404559135437012 33.81690216064453 4.129336357116699 33.11552429199219 4.129336357116699 C 32.56507873535156 4.129336357116699 32.04126739501953 4.29802131652832 31.59736061096191 4.617634773254395 L 29.12923431396484 6.375509262084961 C 28.17039108276367 5.869454860687256 27.16716003417969 5.452180862426758 26.12841606140137 5.141445636749268 L 25.63123893737793 2.193897008895874 C 25.41816329956055 0.9243202805519104 24.32614898681641 0.0009918212890625 23.03881645202637 0.0009918212890625 L 19.30111122131348 0.0009918212890625 C 18.01377868652344 0.0009918212890625 16.9217643737793 0.9243201613426208 16.70868873596191 2.193897008895874 L 16.19375610351563 5.212471008300781 C 15.19940185546875 5.523206233978271 14.23168182373047 5.931601524353027 13.30835437774658 6.428778648376465 L 10.86686038970947 4.670903205871582 C 10.42295265197754 4.35128927230835 9.890263557434082 4.182604312896729 9.339818000793457 4.182604312896729 C 8.638443946838379 4.182604312896729 7.97258186340332 4.457827091217041 7.484283447265625 4.955004215240479 L 4.829714298248291 7.600695610046387 C 3.924141883850098 8.506266593933105 3.799847602844238 9.935651779174805 4.545612812042236 10.98327350616455 L 6.321244716644287 13.47803592681885 C 5.832945823669434 14.41024303436279 5.442306995391846 15.37796115875244 5.140450000762939 16.38119316101074 L 2.192901372909546 16.87837028503418 C 0.9233246445655823 17.09144592285156 -3.814697265625e-06 18.18345832824707 -3.814697265625e-06 19.47079277038574 L -3.814697265625e-06 23.20849609375 C -3.814697265625e-06 24.49583053588867 0.9233245849609375 25.58784294128418 2.192901372909546 25.8009204864502 L 5.211474895477295 26.31585311889648 C 5.522210597991943 27.31020736694336 5.930605411529541 28.27792549133301 6.427782535552979 29.20125389099121 L 4.67878532409668 31.63386535644531 C 3.933020114898682 32.68149185180664 4.048436164855957 34.11087417602539 4.962886810302734 35.01644897460938 L 7.608577728271484 37.66213607788086 C 8.105753898620605 38.15931701660156 8.762737274169922 38.43453598022461 9.464112281799316 38.43453598022461 C 10.01455783843994 38.43453598022461 10.53837013244629 38.26585388183594 10.98227691650391 37.94623947143555 L 13.47704029083252 36.17060470581055 C 14.37373447418213 36.64114761352539 15.31481838226318 37.02291488647461 16.28253746032715 37.32476806640625 L 16.77971649169922 40.30783081054688 C 16.99279022216797 41.5774040222168 18.08480453491211 42.50073623657227 19.37213706970215 42.50073623657227 L 23.11872291564941 42.50073623657227 C 24.40605545043945 42.50073623657227 25.49806594848633 41.57740783691406 25.71114540100098 40.30783081054688 L 26.21720123291016 37.32476806640625 C 27.22043228149414 37.01403427124023 28.18815422058105 36.61451721191406 29.11148071289063 36.12621688842773 L 31.57073211669922 37.88409423828125 C 32.01464080810547 38.20370483398438 32.54732894897461 38.37239074707031 33.09777450561523 38.37239074707031 L 33.09777450561523 38.37239074707031 C 33.79914855957031 38.37239074707031 34.45613479614258 38.09716415405273 34.95331192016602 37.59999084472656 L 37.5989990234375 34.95429992675781 C 38.50457382202148 34.04872512817383 38.62886810302734 32.61934280395508 37.88310241699219 31.57171821594238 L 36.12522888183594 29.10359382629395 C 36.613525390625 28.17138671875 37.02192306518555 27.20366859436035 37.32378005981445 26.20931243896484 L 40.30684280395508 25.71213722229004 C 41.576416015625 25.49906158447266 42.49974822998047 24.40704727172852 42.49974822998047 23.11971282958984 L 42.49974822998047 19.38200950622559 C 42.51749420166016 18.09467697143555 41.59416580200195 17.00266647338867 40.32458877563477 16.78958892822266 Z M 40.12038803100586 23.11971664428711 C 40.12038803100586 23.23513031005859 40.04048538208008 23.33279037475586 39.92507171630859 23.35054779052734 L 36.19624328613281 23.97201919555664 C 35.72570419311523 24.05192184448242 35.35281753540039 24.39817047119141 35.23740386962891 24.85095596313477 C 34.9000358581543 26.15604591369629 34.38510131835938 27.40786552429199 33.69260787963867 28.57090377807617 C 33.4528923034668 28.97929954528809 33.47064971923828 29.48535346984863 33.74587249755859 29.8759937286377 L 35.93878173828125 32.96559143066406 C 36.00092697143555 33.05437469482422 35.99205017089844 33.18754577636719 35.91214752197266 33.26745223999023 L 33.26645660400391 35.91313934326172 C 33.20431137084961 35.97528457641602 33.14216232299805 35.98416137695313 33.09777069091797 35.98416137695313 C 33.04450225830078 35.98416137695313 33.00011444091797 35.96640396118164 32.964599609375 35.93977355957031 L 29.88387870788574 33.74686813354492 C 29.50211906433105 33.47164535522461 28.9871826171875 33.45388793945313 28.57878684997559 33.69359588623047 C 27.41574859619141 34.38609313964844 26.1639289855957 34.90102767944336 24.85884094238281 35.23839569091797 C 24.39717483520508 35.35380935668945 24.05092811584473 35.73557281494141 23.97990417480469 36.19723510742188 L 23.34955406188965 39.92606353759766 C 23.33179664611816 40.04147720336914 23.23413848876953 40.12138366699219 23.11872291564941 40.12138366699219 L 19.38101768493652 40.12138366699219 C 19.26560020446777 40.12138366699219 19.16794204711914 40.04148101806641 19.15018463134766 39.92606353759766 L 18.52871131896973 36.19723510742188 C 18.44880867004395 35.72669219970703 18.10256004333496 35.35380935668945 17.6497745513916 35.23839569091797 C 16.38019752502441 34.9099006652832 15.15501308441162 34.40385055541992 14.00973129272461 33.74686813354492 C 13.8232889175415 33.64032745361328 13.61021423339844 33.58706283569336 13.40601634979248 33.58706283569336 C 13.16630554199219 33.58706283569336 12.91771793365479 33.65808486938477 12.71352005004883 33.80901336669922 L 9.60616397857666 36.01967620849609 C 9.561773300170898 36.04631042480469 9.517382621765137 36.06406402587891 9.472991943359375 36.06406402587891 C 9.437479019165039 36.06406402587891 9.366454124450684 36.0551872253418 9.304306030273438 35.9930419921875 L 6.658616542816162 33.34735488891602 C 6.578712940216064 33.26745223999023 6.56983470916748 33.14315795898438 6.63198184967041 33.04549407958984 L 8.816007614135742 29.98253059387207 C 9.091230392456055 29.59189224243164 9.108986854553223 29.07695770263672 8.869277000427246 28.66856384277344 C 8.176780700683594 27.514404296875 7.644091129302979 26.26258277893066 7.306721687316895 24.95749664306641 C 7.182426929473877 24.50470924377441 6.809545040130615 24.15846252441406 6.347879886627197 24.07855987548828 L 2.592419147491455 23.43932914733887 C 2.477003335952759 23.42157363891602 2.397099733352661 23.32391548156738 2.397099733352661 23.20849609375 L 2.397099733352661 19.47079277038574 C 2.397099733352661 19.35537719726563 2.47700309753418 19.25771713256836 2.592419147491455 19.23995971679688 L 6.29461145401001 18.61848831176758 C 6.765154361724854 18.5385856628418 7.146914482116699 18.19233703613281 7.262330532073975 17.73067283630371 C 7.590822219848633 16.42558288574219 8.096878051757813 15.16488647460938 8.780495643615723 14.00184726715088 C 9.020204544067383 13.59345149993896 8.993571281433105 13.08739566802979 8.718348503112793 12.70563411712646 L 6.507687091827393 9.59827995300293 C 6.445540428161621 9.50949764251709 6.454418659210205 9.376325607299805 6.534322261810303 9.296422004699707 L 9.180012702941895 6.650731563568115 C 9.242158889770508 6.588584423065186 9.304306030273438 6.579706192016602 9.348697662353516 6.579706192016602 C 9.401966094970703 6.579706192016602 9.446356773376465 6.597462177276611 9.481869697570801 6.624096870422363 L 12.54483509063721 8.808123588562012 C 12.93547344207764 9.083346366882324 13.45040702819824 9.101102828979492 13.85880279541016 8.861392974853516 C 15.01296329498291 8.168895721435547 16.26478385925293 7.636206150054932 17.56987190246582 7.298836708068848 C 18.02265930175781 7.174542427062988 18.36890602111816 6.801660060882568 18.44880867004395 6.339995384216309 L 19.08803749084473 2.584534645080566 C 19.10579299926758 2.469118595123291 19.20345306396484 2.389215230941772 19.31887054443359 2.389215230941772 L 23.05657386779785 2.389215230941772 C 23.17198753356934 2.389215230941772 23.2696475982666 2.469118356704712 23.28740501403809 2.584534645080566 L 23.90887641906738 6.286726474761963 C 23.98877906799316 6.757268905639648 24.33502769470215 7.139029979705811 24.79669380187988 7.254446029663086 C 26.13729476928711 7.591816425323486 27.41574859619141 8.115627288818359 28.60542106628418 8.817001342773438 C 29.01381683349609 9.05671215057373 29.51987075805664 9.038954734802246 29.9105110168457 8.76373291015625 L 32.97347640991211 6.561949729919434 C 33.01786804199219 6.53531551361084 33.06225967407227 6.517559051513672 33.10664749145508 6.517559051513672 C 33.14216232299805 6.517559051513672 33.21318817138672 6.526436805725098 33.27533340454102 6.588584423065186 L 35.92102432250977 9.234275817871094 C 36.00092697143555 9.314179420471191 36.00980377197266 9.438473701477051 35.94765472412109 9.536133766174316 L 33.7547492980957 12.61685466766357 C 33.47952651977539 12.99861621856689 33.46177291870117 13.51354885101318 33.70148086547852 13.92194366455078 C 34.39397430419922 15.08498287200928 34.90891265869141 16.3368034362793 35.24628067016602 17.64189147949219 C 35.3616943359375 18.10355567932129 35.74345779418945 18.44980430603027 36.20512008666992 18.52082824707031 L 39.9339485168457 19.15117835998535 C 40.04936218261719 19.1689338684082 40.12926483154297 19.26659393310547 40.12926483154297 19.38201141357422 L 40.12926483154297 23.11971664428711 L 40.12038803100586 23.11971664428711 Z">
                </path>
            </svg>
            <svg viewBox="136.1 136.001 18.342 18.342" class="Path_21">
                <path id="Path_21" d="M 145.2711181640625 136.0010070800781 C 140.2105712890625 136.0010070800781 136.0999908447266 140.1115875244141 136.0999908447266 145.1721496582031 C 136.0999908447266 150.2326965332031 140.2105712890625 154.3432769775391 145.2711181640625 154.3432769775391 C 150.3316802978516 154.3432769775391 154.4422607421875 150.2326965332031 154.4422607421875 145.1721496582031 C 154.4422607421875 140.1115875244141 150.3316802978516 136.0010070800781 145.2711181640625 136.0010070800781 Z M 145.2711181640625 151.9461669921875 C 141.5334167480469 151.9461669921875 138.4971008300781 148.9098510742188 138.4971008300781 145.1721496582031 C 138.4971008300781 141.4344482421875 141.5334167480469 138.3981018066406 145.2711181640625 138.3981018066406 C 149.0088195800781 138.3981018066406 152.045166015625 141.4344482421875 152.045166015625 145.1721496582031 C 152.045166015625 148.9098510742188 149.0088195800781 151.9461669921875 145.2711181640625 151.9461669921875 Z">
                </path>
            </svg>
        </div>
    </div>
    <svg class="Rectangle_26">
        <rect id="Rectangle_26" rx="12" ry="12" x="0" y="0" width="1063" height="682">
        </rect>
    </svg>
    <div id="vote">
        <svg viewBox="120.887 49.302 44.157 219.471" class="Path_90">
            <path id="Path_90" d="M 129.3223266601563 49.36003875732422 L 126.8811798095703 49.67672729492188 C 123.1129837036133 50.16683959960938 120.455078125 53.61835479736328 120.9451751708984 57.38469314575195 L 148.3782501220703 268.7736511230469 L 165.0439453125 268.7736511230469 L 137.0303039550781 55.29804992675781 C 136.5401916503906 51.52984619140625 133.0905609130859 48.87193298339844 129.3223266601563 49.36015319824219 Z M 129.3223266601563 49.36003875732422">
            </path>
        </svg>
        <svg viewBox="132.012 49.302 38.789 219.471" class="Path_91">
            <path id="Path_91" d="M 142.7867736816406 55.29781341552734 C 142.2966613769531 51.52960968017578 138.8470153808594 48.87169647216797 135.0787963867188 49.35991668701172 L 132.6376647949219 49.67660522460938 C 132.4246520996094 49.70487976074219 132.2173004150391 49.74446487426758 132.0118255615234 49.78970718383789 C 134.2550354003906 50.68510437011719 135.962890625 52.73226165771484 136.2965393066406 55.29782485961914 L 164.3101806640625 268.7734375 L 170.8003845214844 268.7734375 L 142.7867736816406 55.29781341552734 Z M 142.7867736816406 55.29781341552734">
            </path>
        </svg>
        <svg viewBox="0.001 100.509 147.847 98.489" class="Path_92">
            <path id="Path_92" d="M 138.9454498291016 183.4336547851563 L 19.65427207946777 198.9117431640625 C 14.06136608123779 199.6393737792969 8.935927391052246 195.6920776367188 8.208257675170898 190.093505859375 L 0.0874975174665451 127.5252304077148 C -0.640128493309021 121.9323272705078 3.310925006866455 116.806884765625 8.903836250305176 116.079216003418 L 81.96804046630859 106.5955810546875 L 128.1950073242188 100.5954818725586 C 133.7879333496094 99.86785888671875 138.9133605957031 103.8189086914063 139.6410369873047 109.4118194580078 L 145.7636566162109 156.5794067382813 L 147.7618103027344 171.9821166992188 C 148.4894256591797 177.5807189941406 144.5421447753906 182.7061462402344 138.9454650878906 183.4337768554688 Z M 138.9454498291016 183.4336547851563">
            </path>
        </svg>
        <svg viewBox="162.575 100.509 67.309 56.072" class="Path_93">
            <path id="Path_93" d="M 229.8840637207031 156.5806884765625 L 170.8993530273438 148.9217529296875 C 170.5845489501953 148.8821563720703 170.2697448730469 148.8256072998047 169.9643707275391 148.7596282958984 C 169.6533355712891 148.3222961425781 169.6533355712891 147.7209777832031 170.0001831054688 147.2798767089844 L 178.9541625976563 135.77734375 C 181.3443908691406 132.6707916259766 180.7637939453125 128.2107696533203 177.6572570800781 125.816780090332 C 174.5506896972656 123.4208908081055 170.0906677246094 124.0014877319336 167.6966857910156 127.108039855957 L 162.5750122070313 133.6868286132813 L 166.0887451171875 106.5949859619141 L 212.3157043457031 100.5948944091797 C 217.9086151123047 99.86726379394531 223.0340423583984 103.820198059082 223.76171875 109.4131088256836 L 229.8840637207031 156.5806884765625 Z M 229.8840637207031 156.5806884765625">
            </path>
        </svg>
        <svg viewBox="103.048 158.597 50.658 46.325" class="Path_94">
            <path id="Path_94" d="M 153.7058715820313 193.5928955078125 C 153.7058715820313 195.1386260986328 153.2176513671875 196.7032165527344 152.1997222900391 198.0208740234375 C 149.8773498535156 201.0369262695313 145.5492553710938 201.6099853515625 142.5181274414063 199.3027038574219 L 130.6762542724609 190.2771148681641 C 130.1371307373047 189.8642883300781 129.3623809814453 189.9623107910156 128.9457855224609 190.5014343261719 L 119.8033294677734 202.2509460449219 C 118.4404449462891 204.0059204101563 116.3970489501953 204.9220581054688 114.3367156982422 204.9220581054688 C 112.8626098632813 204.9220581054688 111.3734130859375 204.4545593261719 110.1161041259766 203.4818725585938 C 106.9284896850586 201.0256652832031 106.3441314697266 196.4186096191406 108.8154144287109 193.2422790527344 L 117.637451171875 181.9131469726563 C 118.0597076416016 181.3683776855469 117.9579010009766 180.5804290771484 117.4093627929688 180.1638336181641 L 105.8163528442383 171.3248596191406 C 102.7098007202148 168.9365081787109 102.1292037963867 164.4765014648438 104.5251007080078 161.3643035888672 C 106.9191055297852 158.2577514648438 111.3791046142578 157.6790466308594 114.4856643676758 160.0730438232422 L 126.1559753417969 168.9666900634766 C 126.6950988769531 169.3776245117188 127.4679718017578 169.281494140625 127.8845672607422 168.7423706054688 L 131.7734069824219 163.7432250976563 L 131.2814178466797 167.5321655273438 C 130.5952606201172 172.8159332275391 134.0675048828125 177.6718139648438 139.1627655029297 178.8160247802734 C 139.2344055175781 178.9178161621094 139.3211059570313 179.00830078125 139.4210205078125 179.0855865478516 L 150.8425140380859 187.7907409667969 C 152.7181396484375 189.2196044921875 153.7059020996094 191.3911743164063 153.7059020996094 193.5928955078125 Z M 153.7058715820313 193.5928955078125">
            </path>
        </svg>
        <svg viewBox="262.856 -0.001 46.982 243.264" class="Path_95">
            <path id="Path_95" d="M 301.7988891601563 0.05970904603600502 L 303.53125 0.2859143912792206 C 307.4954833984375 0.8005333542823792 310.291015625 4.429244041442871 309.7764282226563 8.393500328063965 L 279.2952270507813 243.2624664306641 L 262.8557434082031 243.2624664306641 L 293.6912841796875 6.306864738464355 C 294.2040405273438 2.342617511749268 297.8346252441406 -0.4547811150550842 301.7988891601563 0.05983284488320351 Z M 301.7988891601563 0.05970904603600502">
            </path>
        </svg>
        <svg viewBox="281.118 0 38.169 243.263" class="Path_96">
            <path id="Path_96" d="M 312.9805297851563 0.2864359617233276 L 311.2481689453125 0.06023061648011208 C 309.7740783691406 -0.1301587671041489 308.3489990234375 0.1375173330307007 307.1105041503906 0.7501581311225891 C 310.1039428710938 1.949044108390808 312.0323486328125 5.048060417175293 311.5988159179688 8.39399242401123 L 281.1176147460938 243.2629547119141 L 288.7445068359375 243.2629547119141 L 319.2257080078125 8.393998146057129 C 319.7402954101563 4.429751396179199 316.9447631835938 0.801026463508606 312.9805297851563 0.2864120304584503 Z M 312.9805297851563 0.2864359617233276">
            </path>
        </svg>
        <svg viewBox="161.376 149.892 18.43 24.42" class="Path_97">
            <path id="Path_97" d="M 178.3335876464844 161.3300323486328 L 169.3796081542969 172.8325500488281 C 169.0327758789063 173.2755432128906 169.0327758789063 173.875 169.3438110351563 174.3123168945313 C 164.24853515625 173.1680908203125 160.7762756347656 168.3122253417969 161.4624481201172 163.0284423828125 L 161.9544372558594 159.239501953125 L 167.0761108398438 152.6607055664063 C 169.4701232910156 149.5541687011719 173.9301147460938 148.9735717773438 177.0366821289063 151.3694610595703 C 180.1432342529297 153.7634582519531 180.7238159179688 158.2234649658203 178.3335876464844 161.3300170898438 Z M 178.3335876464844 161.3300323486328">
            </path>
        </svg>
        <svg viewBox="179.346 15.037 147.972 98.614" class="Path_98">
            <path id="Path_98" d="M 187.7955017089844 97.95332336425781 L 308.117919921875 113.5690460205078 C 313.4299926757813 114.2570877075195 318.2933959960938 110.5115051269531 318.9814147949219 105.2013549804688 L 327.2360534667969 41.59796142578125 C 327.9259643554688 36.28779220581055 324.1803894042969 31.42250823974609 318.8683471679688 30.73445892333984 L 198.5459289550781 15.11873626708984 C 193.2357482910156 14.42880821228027 188.3723449707031 18.17627906799316 187.6824188232422 23.48642730712891 L 179.4277954101563 87.08981323242188 C 178.73974609375 92.39998626708984 182.4853363037109 97.26338958740234 187.7954864501953 97.95332336425781 Z M 187.7955017089844 97.95332336425781">
            </path>
        </svg>
        <svg viewBox="265.883 79.092 57.823 39.026" class="Path_99">
            <path id="Path_99" d="M 283.564453125 118.0756530761719 C 281.8698120117188 117.8814926147461 280.3240661621094 117.0219116210938 279.2646789550781 115.6873016357422 L 267.2757568359375 100.5786590576172 C 265.0702514648438 97.7982177734375 265.5339965820313 93.75481414794922 268.3144226074219 91.54931640625 C 271.0948486328125 89.34382629394531 275.1363830566406 89.80753326416016 277.34375 92.58798217773438 L 285.3382568359375 102.6635360717773 L 313.2859497070313 80.48411560058594 C 316.0644836425781 78.27861785888672 320.10791015625 78.74422454833984 322.3134155273438 81.52466583251953 C 324.5188903808594 84.30322265625 324.05517578125 88.34663391113281 321.2747192382813 90.55213165283203 L 288.2939453125 116.7259826660156 C 286.9574584960938 117.7853775024414 285.2571411132813 118.2717208862305 283.5643920898438 118.0756759643555 Z M 283.564453125 118.0756530761719">
            </path>
        </svg>
        <svg viewBox="135.074 496.195 101.698 7.627" class="Path_100">
            <path id="Path_100" d="M 232.9566650390625 503.8222045898438 L 138.8871002197266 503.8222045898438 C 136.781494140625 503.8222045898438 135.0736541748047 502.1143493652344 135.0736541748047 500.0087585449219 C 135.0736541748047 497.9012756347656 136.781494140625 496.1953125 138.8871002197266 496.1953125 L 232.9566650390625 496.1953125 C 235.0641479492188 496.1953125 236.7720031738281 497.9012756347656 236.7720031738281 500.0087585449219 C 236.7701110839844 502.1143493652344 235.0641479492188 503.8222045898438 232.9566650390625 503.8222045898438 Z M 232.9566650390625 503.8222045898438">
            </path>
        </svg>
    </div>
    <form method="post" action="login">
        <div id="Passphrase">
            <span>User ID &nbsp &nbsp &nbsp &nbsp &nbsp  </span>
            <input type="text" placeholder="Enter User ID" name="psw" required class="textbox">
        </div>
        <div id="VoterID">
            <span>Password &nbsp &nbsp &nbsp</span>
            <input type="password" placeholder="Enter Password" name="uname" required class="textbox1">
        </div>

        <svg class="Line_4">
            <path id="Line_4" d="M 0 0 L 684 0">
            </path>
        </svg>
        <svg class="Line_5">
            <path id="Line_5" d="M 0 0 L 684 0">
            </path>
        </svg>
        <svg class="Rectangle_34">
            <rect id="Rectangle_34" rx="10" ry="10" x="0" y="0" width="353.156" height="76">
            </rect>
        </svg>



        <div id="Login">
            <button type=submit class=button1 ><span><h1>Login</h1></span></button>
        </div>
    </form>
    <div id="Connected">
        <span>Connected</span>
    </div>
    <div id="Mask_Group_3">
        <svg style="width:inherit;height:inherit;overflow:visible;">
            <rect fill="url(#Mask_Group_3_A1_Group_14_pattern)" width="100%" height="100%"></rect>
            <pattern elementId="Mask_Group_3_A1_Group_14" id="Mask_Group_3_A1_Group_14_pattern" x="0" y="0" width="100%" height="100%">
                <image x="0" y="0" width="100%" height="100%" href="Mask_Group_3_A1_Group_14_pattern.jpeg" xlink:href="Mask_Group_3_A1_Group_14_pattern.jpeg"></image>
            </pattern>
        </svg>
    </div>
    <div id="______">
        <span></span>
    </div>
    <div id="s34sf35">
        <span></span>
    </div>
    <div id="Group_83">
        <div id="sync">
            <svg viewBox="30.568 14.999 25.05 38.609" class="Path_125">
                <path id="Path_125" d="M 47.69569396972656 14.99899864196777 L 45.42542266845703 17.45139312744141 C 50.27079010009766 20.62844657897949 53.08633804321289 26.44937324523926 52.12947845458984 32.5333137512207 C 51.49890899658203 36.54342269897461 49.3436393737793 40.06822204589844 46.06204223632813 42.45788955688477 C 43.19752502441406 44.54383087158203 39.77286911010742 45.54745483398438 36.2805290222168 45.34772109985352 L 36.88028717041016 44.71825408935547 C 36.86872863769531 44.71770477294922 36.85607528686523 44.71935653686523 36.84452056884766 44.71880722045898 L 39.11643981933594 42.33518600463867 L 37.01839447021484 40.3328857421875 L 32.51307678222656 45.06270217895508 L 32.51197814941406 45.06105041503906 L 30.56800079345703 47.10242080688477 L 32.66494369506836 49.10307312011719 L 32.66604614257813 49.10252380371094 L 37.39420700073242 53.60839462280273 L 39.3398323059082 51.56702423095703 L 36.27777862548828 48.64968109130859 C 40.46836471557617 48.8477668762207 44.56761169433594 47.63010025024414 48.00602722167969 45.12652969360352 C 52.00127792358398 42.21799087524414 54.62424850463867 37.92726516723633 55.39237213134766 33.04558563232422 C 56.52420425415039 25.83586502075195 53.30863189697266 18.92822265625 47.69569396972656 14.99899864196777 Z">
                </path>
            </svg>
            <svg viewBox="9.074 0 25.05 38.61" class="Path_126">
                <path id="Path_126" d="M 12.56310844421387 21.07507514953613 C 13.19367790222168 17.06496620178223 15.34894561767578 13.54016590118408 18.63054275512695 11.15049648284912 C 21.49506378173828 9.064558982849121 24.91972160339355 8.060931205749512 28.41205787658691 8.260666847229004 L 27.81230354309082 8.890134811401367 C 27.8238582611084 8.890685081481934 27.83651161193848 8.889033317565918 27.84806632995605 8.889585494995117 L 25.57614898681641 11.27320098876953 L 27.67419242858887 13.27550315856934 L 32.17950820922852 8.545688629150391 L 32.18061447143555 8.54733943939209 L 34.12458801269531 6.505970478057861 L 32.02764511108398 4.505318641662598 L 32.02654647827148 4.505868911743164 L 27.29838371276855 0 L 25.35275459289551 2.041369199752808 L 28.41480827331543 4.958712100982666 C 24.22422409057617 4.760627746582031 20.12497901916504 5.978295803070068 16.68656349182129 8.48186206817627 C 12.69131278991699 11.39040088653564 10.06834506988525 15.68112850189209 9.30021858215332 20.56280517578125 C 8.166736602783203 27.7730770111084 11.38285636901855 34.68071746826172 16.9952449798584 38.60994338989258 L 19.26551246643066 36.15754699707031 C 14.421799659729 32.97939300537109 11.60625076293945 27.15901756286621 12.56310844421387 21.07507514953613 Z">
                </path>
            </svg>
        </div>
        <div id="tick">
            <div id="Group_82">
                <svg viewBox="0 67.997 16.271 11.949" class="Path_127">
                    <path id="Path_127" d="M 16.03251838684082 68.23580169677734 C 15.71481418609619 67.91806793212891 15.19972705841064 67.91806793212891 14.88196086883545 68.23580169677734 L 5.134950637817383 77.98290252685547 L 1.388360381126404 74.23631286621094 C 1.070657253265381 73.9185791015625 0.5555691719055176 73.91860961914063 0.2378024607896805 74.23631286621094 C -0.07993253320455551 74.55401611328125 -0.07993253320455551 75.06909942626953 0.2378024607896805 75.3868408203125 L 4.559671878814697 79.70864868164063 C 4.877279758453369 80.02635192871094 5.392749309539795 80.02613067626953 5.710229873657227 79.70864868164063 L 16.03251838684082 69.3863525390625 C 16.35025405883789 69.06864929199219 16.35022163391113 68.55353546142578 16.03251838684082 68.23580169677734 Z">
                    </path>
                </svg>
            </div>
        </div>
    </div>
</div>
<script>
    ///////////////////////////////////////
    // INITIALIZATION
    ///////////////////////////////////////

    /**
     * Functionality for scaling, showing by media query, and navigation between multiple pages on a single page.
     * Code subject to change.
     **/

    if (window.console==null) { window["console"] = { log : function() {} } }; // some browsers do not set

    var Application = function() {
        // event constants
        this.NAVIGATION_CHANGE = "viewChange";
        this.VIEW_NOT_FOUND = "viewNotFound";
        this.STATE_NOT_FOUND = "stateNotFound";
        this.APPLICATION_COMPLETE = "applicationComplete";
        this.SIZE_STATE_NAME = "data-is-view-scaled";

        this.currentQuery = {index: 0, rule: null, mediaText: null, id: null};
        this.inclusionQuery = "(min-width: 0px)";
        this.exclusionQuery = "none and (min-width: 99999px)";
        this.LastModifiedDateLabelName = "LastModifiedDateLabel";
        this.pageRefreshedName = "showPageRefreshedNotification";
        this.prefix = "--web-";
        this.applicationStylesheet = null;
        this.mediaQueryDictionary = {};
        this.statesDictionary = {};
        this.states = [];
        this.views = {};
        this.viewIds = [];
        this.viewQueries = {};
        this.viewScale = 1;
        this.numberOfViews = 0;
        this.verticalPadding = 0;
        this.horizontalPadding = 0;
        this.stateName = null;

        // view settings
        this.showUpdateNotification = false;
        this.showNavigationControls = false;
        this.scaleViewsToFit = false;
        this.scaleToFitOnDoubleClick = false;
        this.actualSizeOnDoubleClick = false;
        this.scaleViewsOnResize = false;
        this.navigationOnKeypress = false;
        this.showViewName = false;
        this.enableDeepLinking = true;
        this.refreshPageForChanges = false;
        this.showRefreshNotifications = true;

        // view controls
        this.scaleViewSlider = null;
        this.lastModifiedLabel = null;
        this.supportsPopState = false; // window.history.pushState!=null;
        this.initialized = false;

        // refresh properties
        this.lastModifiedDate = null;
        this.refreshRequest = null;
        this.refreshDuration = 2000;
        this.refreshInterval = null;
        this.refreshContent = null;
        this.refreshContentSize = null;
        this.refreshCheckContent = false;
        this.refreshCheckContentSize = false;

        var self = this;

        self.initialize = function(event) {
            var view = self.getVisibleView();
            self.collectViews();
            self.collectMediaQueries();
            self.setViewOptions(view);


            // sometimes the body size is 0 so we call this now and again later
            if (self.initialized) {
                window.addEventListener(self.NAVIGATION_CHANGE, self.viewChangeHandler);
                window.addEventListener("keyup", self.keypressHandler);
                window.addEventListener("keypress", self.keypressHandler);
                window.addEventListener("resize", self.resizeHandler);
                window.document.addEventListener("dblclick", self.doubleClickHandler);

                if (self.supportsPopState) {
                    window.addEventListener('popstate', self.popStateHandler);
                }
                else {
                    window.addEventListener('hashchange', self.hashChangeHandler);
                }

                // we are ready to go
                window.dispatchEvent(new Event(self.APPLICATION_COMPLETE));
            }

            if (self.initialized==false) {
                if (self.showNavigationControls || self.singlePageApplication) {
                    self.syncronizeViewToURL();
                }

                if (self.refreshPageForChanges) {
                    self.setupRefreshForChanges();
                }

                self.initialized = true;
            }

            if (self.scaleViewsToFit) {
                self.viewScale = self.scaleViewToFit();

                if (self.viewScale<0) {
                    setTimeout(self.scaleViewToFit, 500);
                }
            }
            else {
                self.viewScale = self.getViewScaleValue(view);
                self.updateSliderValue(self.viewScale);
            }

            if (self.showUpdateNotification) {
                self.showNotification();
            }

            //"addEventListener" in window ? null : window.addEventListener = window.attachEvent;
            //"addEventListener" in document ? null : document.addEventListener = document.attachEvent;
        }


        ///////////////////////////////////////
        // AUTO REFRESH
        ///////////////////////////////////////

        self.setupRefreshForChanges = function() {
            self.refreshRequest = new XMLHttpRequest();

            if (!self.refreshRequest) {
                return false;
            }

            // get document start values immediately
            self.requestRefreshUpdate();
        }

        /**
         * Attempt to check the last modified date by the headers
         * or the last modified property from the byte array
         * (BETA)
         **/
        self.requestRefreshUpdate = function() {
            var url = document.location.href;
            var protocol = window.location.protocol;
            var method;

            try {

                if (self.refreshCheckContentSize) {
                    self.refreshRequest.open('HEAD', url, true);
                }
                else if (self.refreshCheckContent) {
                    self.refreshContent = document.documentElement.outerHTML;
                    self.refreshRequest.open('GET', url, true);
                    self.refreshRequest.responseType = "text";
                }
                else {

                    // get page last modified date for the first call to compare to later
                    if (self.lastModifiedDate==null) {

                        // File system does not send headers in FF so get blob if possible
                        if (protocol=="file:") {
                            self.refreshRequest.open("GET", url, true);
                            self.refreshRequest.responseType = "blob";
                        }
                        else {
                            self.refreshRequest.open("HEAD", url, true);
                            self.refreshRequest.responseType = "blob";
                        }

                        self.refreshRequest.onload = self.refreshOnLoadOnceHandler;

                        // In some browsers (Chrome & Safari) this error occurs at send:
                        //
                        // Chrome - Access to XMLHttpRequest at 'file:///index.html' from origin 'null'
                        // has been blocked by CORS policy:
                        // Cross origin requests are only supported for protocol schemes:
                        // http, data, chrome, chrome-extension, https.
                        //
                        // Safari - XMLHttpRequest cannot load file:///Users/user/Public/index.html. Cross origin requests are only supported for HTTP.
                        //
                        // Solution is to run a local server, set local permissions or test in another browser
                        self.refreshRequest.send(null);

                        // In MS browsers the following behavior occurs possibly due to an AJAX call to check last modified date:
                        //
                        // DOM7011: The code on this page disabled back and forward caching.

                    }
                    else {
                        self.refreshRequest = new XMLHttpRequest();
                        self.refreshRequest.onreadystatechange = self.refreshHandler;
                        self.refreshRequest.ontimeout = function() {
                            console.log("Couldn't find page to check for updates");
                        }

                        var method;
                        if (protocol=="file:") {
                            method = "GET";
                        }
                        else {
                            method = "HEAD";
                        }

                        //refreshRequest.open('HEAD', url, true);
                        self.refreshRequest.open(method, url, true);
                        self.refreshRequest.responseType = "blob";
                        self.refreshRequest.send(null);
                    }
                }
            }
            catch (error) {
                console.log("Refresh failed for the following reason:")
                console.log(error);
            }
        }

        self.refreshHandler = function() {
            var contentSize;

            try {

                if (self.refreshRequest.readyState === XMLHttpRequest.DONE) {

                    if (self.refreshRequest.status === 2 ||
                        self.refreshRequest.status === 200) {
                        var pageChanged = false;

                        self.updateLastModifiedLabel();

                        if (self.refreshCheckContentSize) {
                            var lastModifiedHeader = self.refreshRequest.getResponseHeader("Last-Modified");
                            contentSize = self.refreshRequest.getResponseHeader("Content-Length");
                            //lastModifiedDate = refreshRequest.getResponseHeader("Last-Modified");
                            var headers = self.refreshRequest.getAllResponseHeaders();
                            var hasContentHeader = headers.indexOf("Content-Length")!=-1;

                            if (hasContentHeader) {
                                contentSize = self.refreshRequest.getResponseHeader("Content-Length");

                                // size has not been set yet
                                if (self.refreshContentSize==null) {
                                    self.refreshContentSize = contentSize;
                                    // exit and let interval call this method again
                                    return;
                                }

                                if (contentSize!=self.refreshContentSize) {
                                    pageChanged = true;
                                }
                            }
                        }
                        else if (self.refreshCheckContent) {

                            if (self.refreshRequest.responseText!=self.refreshContent) {
                                pageChanged = true;
                            }
                        }
                        else {
                            lastModifiedHeader = self.getLastModified(self.refreshRequest);

                            if (self.lastModifiedDate!=lastModifiedHeader) {
                                pageChanged = true;
                            }

                        }


                        if (pageChanged) {
                            clearInterval(self.refreshInterval);
                            self.refreshUpdatedPage();
                            return;
                        }

                    }
                    else {
                        console.log('There was a problem with the request.');
                    }

                }
            }
            catch( error ) {
                //console.log('Caught Exception: ' + error);
            }
        }

        self.refreshOnLoadOnceHandler = function(event) {

            // get the last modified date
            if (self.refreshRequest.response) {
                self.lastModifiedDate = self.getLastModified(self.refreshRequest);

                if (self.lastModifiedDate!=null) {

                    if (self.refreshInterval==null) {
                        self.refreshInterval = setInterval(self.requestRefreshUpdate, self.refreshDuration);
                    }
                }
                else {
                    console.log("Could not get last modified date from the server");
                }
            }
        }

        self.refreshUpdatedPage = function() {
            if (self.showRefreshNotifications) {
                var date = new Date().setTime((new Date().getTime()+10000));
                document.cookie = encodeURIComponent(self.pageRefreshedName) + "=true" + "; max-age=6000;" + " path=/";
            }

            document.location.reload(true);
        }

        self.showNotification = function(duration) {
            var notificationID = self.pageRefreshedName+"ID";
            var notification = document.getElementById(notificationID);
            if (duration==null) duration = 4000;

            if (notification!=null) {return;}

            notification = document.createElement("div");
            notification.id = notificationID;
            notification.textContent = "PAGE UPDATED";
            var styleRule = ""
            styleRule = "position: fixed; padding: 7px 16px 6px 16px; font-family: Arial, sans-serif; font-size: 10px; font-weight: bold; left: 50%;";
            styleRule += "top: 20px; background-color: rgba(0,0,0,.5); border-radius: 12px; color:rgb(235, 235, 235); transition: all 2s linear;";
            styleRule += "transform: translateX(-50%); letter-spacing: .5px; filter: drop-shadow(2px 2px 6px rgba(0, 0, 0, .1))";
            notification.setAttribute("style", styleRule);

            notification.className= "PageRefreshedClass";

            document.body.appendChild(notification);

            setTimeout(function() {
                notification.style.opacity = "0";
                notification.style.filter = "drop-shadow( 0px 0px 0px rgba(0,0,0, .5))";
                setTimeout(function() {
                    notification.parentNode.removeChild(notification);
                }, duration)
            }, duration);

            document.cookie = encodeURIComponent(self.pageRefreshedName) + "=; max-age=1; path=/";
        }

        /**
         * Get the last modified date from the header
         * or file object after request has been received
         **/
        self.getLastModified = function(request) {
            var date;

            // file protocol - FILE object with last modified property
            if (request.response && request.response.lastModified) {
                date = request.response.lastModified;
            }

            // http protocol - check headers
            if (date==null) {
                date = request.getResponseHeader("Last-Modified");
            }

            return date;
        }

        self.updateLastModifiedLabel = function() {
            var labelValue = "";

            if (self.lastModifiedLabel==null) {
                self.lastModifiedLabel = document.getElementById("LastModifiedLabel");
            }

            if (self.lastModifiedLabel) {
                var seconds = parseInt(((new Date().getTime() - Date.parse(document.lastModified)) / 1000 / 60) * 100 + "");
                var minutes = 0;
                var hours = 0;

                if (seconds < 60) {
                    seconds = Math.floor(seconds/10)*10;
                    labelValue = seconds + " seconds";
                }
                else {
                    minutes = parseInt((seconds/60) + "");

                    if (minutes>60) {
                        hours = parseInt((seconds/60/60) +"");
                        labelValue += hours==1 ? " hour" : " hours";
                    }
                    else {
                        labelValue = minutes+"";
                        labelValue += minutes==1 ? " minute" : " minutes";
                    }
                }

                if (seconds<10) {
                    labelValue = "Updated now";
                }
                else {
                    labelValue = "Updated " + labelValue + " ago";
                }

                if (self.lastModifiedLabel.firstElementChild) {
                    self.lastModifiedLabel.firstElementChild.textContent = labelValue;

                }
                else if ("textContent" in self.lastModifiedLabel) {
                    self.lastModifiedLabel.textContent = labelValue;
                }
            }
        }

        self.getShortString = function(string, length) {
            if (length==null) length = 30;
            string = string!=null ? string.substr(0, length).replace(/\n/g, "") : "[String is null]";
            return string;
        }

        self.getShortNumber = function(value, places) {
            if (places==null || places<1) places = 3;
            value = Math.round(value * Math.pow(10,places)) / Math.pow(10, places);
            return value;
        }

        ///////////////////////////////////////
        // NAVIGATION CONTROLS
        ///////////////////////////////////////

        self.updateViewLabel = function() {
            var viewNavigationLabel = document.getElementById("ViewNavigationLabel");
            var view = self.getVisibleView();
            var viewIndex = view ? self.getViewIndex(view) : -1;
            var viewName = view ? self.getViewPreferenceValue(view, self.prefix + "view-name") : null;
            var viewId = view ? view.id : null;

            if (viewNavigationLabel && view) {
                if (viewName && viewName.indexOf('"')!=-1) {
                    viewName = viewName.replace(/"/g, "");
                }

                if (self.showViewName) {
                    viewNavigationLabel.textContent = viewName;
                    self.setTooltip(viewNavigationLabel, viewIndex + 1 + " of " + self.numberOfViews);
                }
                else {
                    viewNavigationLabel.textContent = viewIndex + 1 + " of " + self.numberOfViews;
                    self.setTooltip(viewNavigationLabel, viewName);
                }

            }
        }

        self.updateURL = function(view) {
            view = view == null ? self.getVisibleView() : view;
            var viewId = view ? view.id : null
            var viewFragment = view ? "#"+ viewId : null;

            if (viewId && self.enableDeepLinking) {

                if (self.supportsPopState==false) {
                    self.setFragment(viewId);
                }
                else {
                    if (viewFragment!=window.location.hash) {

                        if (window.location.hash==null) {
                            window.history.replaceState({name:viewId}, null, viewFragment);
                        }
                        else {
                            window.history.pushState({name:viewId}, null, viewFragment);
                        }
                    }
                }
            }
        }

        self.setFragment = function(value) {
            window.location.hash = "#" + value;
        }

        self.setTooltip = function(element, value) {
            // setting the tooltip in edge causes a page crash on hover
            if (/Edge/.test(navigator.userAgent)) { return; }

            if ("title" in element) {
                element.title = value;
            }
        }

        self.getStylesheetRules = function(styleSheet) {
            if (styleSheet) return styleSheet.cssRules || styleSheet.rules;

            return document.styleSheets[0]["cssRules"] || document.styleSheets[0]["rules"];
        }

        /**
         * If single page application hide all of the views except first
         **/
        self.hideViews = function(selectIndex) {
            var rules = self.getStylesheetRules();
            var queryIndex = 0;
            var numberOfRules = rules!=null ? rules.length : 0;

            // loop through rules and hide media queries except selected
            for (var i=0;i<numberOfRules;i++) {
                var rule = rules[i];

                if (rule.media!=null) {

                    if (queryIndex==selectIndex) {
                        self.currentQuery.mediaText = rule.conditionText;
                        self.currentQuery.index = selectIndex;
                        self.currentQuery.rule = rule;
                        self.enableMediaQuery(rule);
                    }
                    else {
                        self.disableMediaQuery(rule);
                    }

                    queryIndex++;
                }
            }

            self.numberOfViews = queryIndex;
            self.updateViewLabel();
            self.updateURL();

            self.dispatchViewChange();

            var view = self.getVisibleView();
            var viewIndex = view ? self.getViewIndex(view) : -1;

            return viewIndex==selectIndex ? view : null;
        }

        self.showView = function(view) {
            var id = view ? view.id : null;
            var query = id ? self.mediaQueryDictionary[id] : null;
            var display = null;

            if (query) {
                self.enableMediaQuery(query);
                if (view==null) view =self.getVisibleView();
                self.setViewOptions(view);
            }
            else if (id) {
                display = window.getComputedStyle(view).getPropertyValue("display");
                if (display=="" ||  display=="none") {
                    view.style.display = "block";
                }
            }
        }

        self.setViewOptions = function(view) {

            if (view) {
                self.scaleViewsToFit = self.getViewPreferenceBoolean(view, self.prefix + "scale-to-fit");
                self.scaleToFitOnDoubleClick = self.getViewPreferenceBoolean(view, self.prefix + "scale-on-double-click");
                self.actualSizeOnDoubleClick = self.getViewPreferenceBoolean(view, self.prefix + "actual-size-on-double-click");
                self.scaleViewsOnResize = self.getViewPreferenceBoolean(view, self.prefix + "scale-on-resize");
                self.navigationOnKeypress = self.getViewPreferenceBoolean(view, self.prefix + "navigate-on-keypress");
                self.showViewName = self.getViewPreferenceBoolean(view, self.prefix + "show-view-name");
                self.refreshPageForChanges = self.getViewPreferenceBoolean(view, self.prefix + "refresh-for-changes");
                self.showNavigationControls = self.getViewPreferenceBoolean(view, self.prefix + "show-navigation-controls");
                self.scaleViewSlider = self.getViewPreferenceBoolean(view, self.prefix + "show-scale-controls");
                self.enableDeepLinking = self.getViewPreferenceBoolean(view, self.prefix + "enable-deep-linking");
                self.singlePageApplication = self.getViewPreferenceBoolean(view, self.prefix + "application");
                self.showUpdateNotification = document.cookie!="" ? document.cookie.indexOf(self.pageRefreshedName)!=-1 : false;

                if (self.scaleViewsToFit) {
                    var newScaleValue = self.scaleViewToFit();

                    if (newScaleValue<0) {
                        setTimeout(self.scaleViewToFit, 500);
                    }
                }
                else {
                    self.viewScale = self.getViewScaleValue(view);
                    self.updateSliderValue(self.viewScale);
                }
            }
        }

        self.previousView = function(event) {
            var rules = self.getStylesheetRules();
            var view = self.getVisibleView()
            var index = view ? self.getViewIndex(view) : -1;
            var prevQueryIndex = index!=-1 ? index-1 : self.currentQuery.index-1;
            var queryIndex = 0;
            var numberOfRules = rules!=null ? rules.length : 0;

            if (event) {
                event.stopImmediatePropagation();
            }

            if (prevQueryIndex<0) {
                return;
            }

            // loop through rules and hide media queries except selected
            for (var i=0;i<numberOfRules;i++) {
                var rule = rules[i];

                if (rule.media!=null) {

                    if (queryIndex==prevQueryIndex) {
                        self.currentQuery.mediaText = rule.conditionText;
                        self.currentQuery.index = prevQueryIndex;
                        self.currentQuery.rule = rule;
                        self.enableMediaQuery(rule);
                        self.updateViewLabel();
                        self.updateURL();
                        self.dispatchViewChange();
                    }
                    else {
                        self.disableMediaQuery(rule);
                    }

                    queryIndex++;
                }
            }
        }

        self.nextView = function(event) {
            var rules = self.getStylesheetRules();
            var view = self.getVisibleView();
            var index = view ? self.getViewIndex(view) : -1;
            var nextQueryIndex = index!=-1 ? index+1 : self.currentQuery.index+1;
            var queryIndex = 0;
            var numberOfRules = rules!=null ? rules.length : 0;
            var numberOfMediaQueries = self.getNumberOfMediaRules();

            if (event) {
                event.stopImmediatePropagation();
            }

            if (nextQueryIndex>=numberOfMediaQueries) {
                return;
            }

            // loop through rules and hide media queries except selected
            for (var i=0;i<numberOfRules;i++) {
                var rule = rules[i];

                if (rule.media!=null) {

                    if (queryIndex==nextQueryIndex) {
                        self.currentQuery.mediaText = rule.conditionText;
                        self.currentQuery.index = nextQueryIndex;
                        self.currentQuery.rule = rule;
                        self.enableMediaQuery(rule);
                        self.updateViewLabel();
                        self.updateURL();
                        self.dispatchViewChange();
                    }
                    else {
                        self.disableMediaQuery(rule);
                    }

                    queryIndex++;
                }
            }
        }

        self.enableMediaQuery = function(rule) {

            try {
                rule.media.mediaText = self.inclusionQuery;
            }
            catch(error) {
                //self.log(error);
                rule.conditionText = self.inclusionQuery;
            }
        }

        self.disableMediaQuery = function(rule) {

            try {
                rule.media.mediaText = self.exclusionQuery;
            }
            catch(error) {
                rule.conditionText = self.exclusionQuery;
            }
        }

        self.dispatchViewChange = function() {
            try {
                var event = new Event(self.NAVIGATION_CHANGE);
                window.dispatchEvent(event);
            }
            catch (error) {
                // In IE 11: Object doesn't support this action
            }
        }

        self.getNumberOfMediaRules = function() {
            var rules = self.getStylesheetRules();
            var numberOfQueries = 0;

            for (var i=0;i<rules.length;i++) {
                if (rules[i].media!=null) { numberOfQueries++; }
            }
            return numberOfQueries;
        }

        /////////////////////////////////////////
        // VIEW SCALE
        /////////////////////////////////////////

        self.sliderChangeHandler = function(event) {
            var value = event.currentTarget.value/100;
            var view = self.getVisibleView();
            self.setViewScaleValue(view, value, false, true);
        }

        self.updateSliderValue = function(scale) {
            var slider = document.getElementById("ViewZoomSliderInput");
            var tooltip = parseInt(scale * 100 + "") + "%";
            var inputType;

            if (slider) {
                slider["value"] = scale * 100;
                inputType = slider.getAttributeNS(null, "type");

                if (inputType!="range") {
                    // input range is not supported
                    slider.style.display = "none";
                }

                self.setTooltip(slider, tooltip);
            }
        }

        self.viewChangeHandler = function(event) {
            var view = self.getVisibleView();
            var matrix = view ? getComputedStyle(view).transform : null;

            if (matrix) {
                self.viewScale = self.getViewScaleValue(view);

                var scaleNeededToFit = self.getViewFitToViewportScale(view);
                var isViewLargerThanViewport = scaleNeededToFit<1;

                // scale large view to fit if scale to fit is enabled
                //if (isViewLargerThanViewport && scaleViewsToFit) {
                if (self.scaleViewsToFit) {
                    //setViewScaleValue(view, scale, true);
                    self.scaleViewToFit();
                }
                else {
                    self.updateSliderValue(self.viewScale);
                }
            }
        }

        self.getViewScaleValue = function(view) {
            var matrix = getComputedStyle(view).transform;

            if (matrix) {
                var matrixArray = matrix.replace("matrix(", "").split(",");
                var scaleX = parseFloat(matrixArray[0]);
                var scaleY = parseFloat(matrixArray[3]);
                var scale = Math.min(scaleX, scaleY);
            }

            return scale;
        }

        self.getViewTranslateYValue = function(view) {
            var matrix = getComputedStyle(view).transform;

            if (matrix) {
                var matrixArray = matrix.replace("matrix(", "").split(",");
                var translateY = parseFloat(matrixArray[5]);
            }

            return translateY;
        }

        self.getViewTop = function(view) {
            var top = getComputedStyle(view).top;

            return top;
        }

        self.setViewScaleValue = function(view, desiredScale, scaleViewToFit, centerVertically) {
            var transform = getComputedStyle(view).transform;
            var scaleNeededToFit = self.getViewFitToViewportScale(view);
            var isViewLargerThanViewport = scaleNeededToFit<1;
            var shrunkToFit = false;

            if (scaleViewToFit && isViewLargerThanViewport) {
                desiredScale = scaleNeededToFit;
                shrunkToFit = true;
            }

            if (isNaN(desiredScale)) {
                desiredScale = 1;
            }

            desiredScale = self.getShortNumber(desiredScale);

            self.updateSliderValue(desiredScale);

            transform = self.getCSSPropertyValueForElement(view.id, "transform");

            if (transform!=null) {
                var horizontalCenter = transform.indexOf("translateX")!=-1;
                var verticalCenter = transform.indexOf("translateY")!=-1;
                var horizontalAndVerticalCenter = (horizontalCenter && verticalCenter) || (transform.indexOf("translate(")!=-1);
                var topPosition = null;
                var leftPosition = null;
                var translateY = null;
                var translateX = "-50%";
                var centerForNavigation = self.showNavigationControls!=null && self.scaleViewsToFit;

                //if (horizontalAndVerticalCenter || horizontalCenter || verticalCenter) {
                if (horizontalAndVerticalCenter || centerForNavigation) {
                    translateX = "-50%";

                    // if view is smaller than viewport or center vertically is true then center vertically
                    if (shrunkToFit || centerVertically) {
                        translateX = "-50%";
                        translateY = "-50%";
                        topPosition = "50%";
                        leftPosition = "50%";
                    }
                    else {
                        translateX = "0";
                        translateY = "0";
                        topPosition = "0";
                        leftPosition = "0";
                    }

                    view.style.transform = "translateX(" + translateX + ") translateY(" + translateY + ") scale(" + desiredScale + ")";

                    if (view.style.top != topPosition) {
                        view.style.top = topPosition + "";
                    }

                    if (view.style.left != leftPosition) {
                        view.style.left = leftPosition + "";
                    }
                    //view.style.transform = "translate(-50%,-50%) scale(" + desiredScale + ")";
                }
                else if (horizontalCenter) {
                    translateY = shrunkToFit ? "-50%" : "0%";
                    view.style.transform = "translateY(" + translateY + ") translateX(-50%) scale(" + desiredScale + ")";

                    // this next function needs work
                    //topPosition = getVerticallyCenteredTopValue(view);

                    if (shrunkToFit) {
                        view.style.top = "50%";
                    }
                    else {
                        view.style.top = "0";
                    }
                }
                else if (verticalCenter) {
                    view.style.transform = "translateY(-50%) scale(" + desiredScale + ")";
                }
                else {
                    view.style.transform = "scale(" + desiredScale + ")";
                }

                if (desiredScale!=1) {
                    // attempt to anchor to the top as scaled up
                    //view.style.top = null;
                }
            }

            if (shrunkToFit) {
                return scaleNeededToFit;
            }

            return desiredScale;
        }

        self.getVerticallyCenteredTopValue = function(view) {
            var originalTransform = view.style.transform;
            var originalTop = view.style.top;
            var transform = null;

            view.style.transform = "translateY(-50%)" + originalTransform;
            view.style.top = "50%";
            var translateY = self.getViewTranslateYValue(view);
            view.style.transform = originalTransform;
            view.style.top = originalTop;
            return translateY;
        }

        self.getViewFitToViewportScale = function(view) {
            var availableWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
            var availableHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
            var elementWidth = parseFloat(getComputedStyle(view, "style").width);
            var elementHeight = parseFloat(getComputedStyle(view, "style").height);
            var newScale = 1;

            availableWidth -= self.horizontalPadding;
            availableHeight -= self.verticalPadding;

            if (elementWidth > availableWidth || elementHeight > availableHeight) {
                newScale = Math.min(availableHeight/elementHeight, availableWidth/elementWidth);
            }

            return newScale;
        }

        self.keypressHandler = function(event) {
            var rightKey = 39;
            var leftKey = 37;

            // listen for both events
            if (event.type=="keypress") {
                window.removeEventListener("keyup", self.keypressHandler);
            }
            else {
                window.removeEventListener("keypress", self.keypressHandler);
            }

            if (self.showNavigationControls) {
                if (self.navigationOnKeypress) {
                    if (event.keyCode==rightKey) {
                        self.nextView();
                    }
                    if (event.keyCode==leftKey) {
                        self.previousView();
                    }
                }
            }
            else if (self.navigationOnKeypress) {
                if (event.keyCode==rightKey) {
                    self.nextView();
                }
                if (event.keyCode==leftKey) {
                    self.previousView();
                }
            }
        }

        ///////////////////////////////////
        // GENERAL FUNCTIONS
        ///////////////////////////////////

        self.getViewById = function(id) {
            id = id ? id.replace("#", "") : "";
            var view = self.viewIds.indexOf(id)!=-1 && document.getElementById(id);
            return view;
        }

        self.getViewIds = function() {
            var viewIds = self.getViewPreferenceValue(document.body, self.prefix + "view-ids");
            var viewId = null;

            viewIds = viewIds!=null && viewIds!="" ? viewIds.split(",") : [];

            if (viewIds.length==0) {
                viewId = self.getViewPreferenceValue(document.body, self.prefix + "view-id");
                viewIds = viewId ? [viewId] : [];
            }

            return viewIds;
        }

        self.getApplicationStylesheet = function() {
            var stylesheetId = self.getViewPreferenceValue(document.body, self.prefix + "stylesheet-id");
            self.applicationStylesheet = document.getElementById("applicationStylesheet");
            return self.applicationStylesheet.sheet;
        }

        self.getViewQueries = function() {
            var stylesheetId = self.getViewPreferenceValue(document.body, self.prefix + "stylesheet-id");
            var viewIds = self.getViewIds();
        }

        self.getVisibleView = function() {
            var viewIds = self.getViewIds();

            try {
                var rules = self.getStylesheetRules();

                /*
                viewIds = rules[1].selectorText.split(/\,?\s+?#/);
                if (viewIds[0]=="*") {
                    viewIds = rules[2].selectorText.split(/\,?\s+?#/);
                }
                */
            }
            catch(error) {
                console.log("For the page functionality to work the first two style declarations must be the generated ones.");
                return;
            }

            for (var i=0;i<viewIds.length;i++) {
                var viewId = viewIds[i].replace(/[\#?\.?](.*)/, "$" + "1");
                var view = document.getElementById(viewId);
                var postName = "_Class";

                if (view==null && viewId && viewId.lastIndexOf(postName)!=-1) {
                    view = document.getElementById(viewId.replace(postName, ""));
                }

                if (view) {
                    var display = window.getComputedStyle(view).display;

                    if (display=="block") {
                        return view;
                    }
                }
            }

            return null;
        }

        self.getViewIndex = function(view) {
            var viewIds = self.getViewIds();
            var id = view ? view.id : null;
            var index = id && viewIds ? viewIds.indexOf(id) : -1;

            return index;
        }

        self.syncronizeViewToURL = function() {
            var fragment = window.location.hash;
            var view = self.getViewById(fragment);
            var index = view ? self.getViewIndex(view) : 0;
            if (index==-1) index = 0;
            var currentView = self.hideViews(index);

            if (self.supportsPopState && currentView) {

                if (fragment==null) {
                    window.history.replaceState({name:currentView.id}, null, "#"+ currentView.id);
                }
                else {
                    window.history.pushState({name:currentView.id}, null, "#"+ currentView.id);
                }
            }
            return view;
        }

        self.getViewPreferenceBoolean = function(view, property) {
            var value = window.getComputedStyle(view).getPropertyValue(property);
            var type = typeof value;

            if (value=="true" || (type=="string" && value.indexOf("true")!=-1)) {
                return true;
            }

            return false;
        }

        self.getViewPreferenceValue = function(view, property) {
            var value = window.getComputedStyle(view).getPropertyValue(property);
            if (value===undefined) {
                return null;
            }

            value = value.replace(/^[\s"]*(.*?)[\s"]*$/, "$1")
            return value;
        }

        self.getCSSPropertyValueForElement = function(id, property) {
            var styleSheets = document.styleSheets;
            var numOfStylesheets = styleSheets.length;
            var values = [];
            var selectorIDText = "#" + id;
            var selectorClassText = "." + id + "_Class";
            var value;

            for(var i=0;i<numOfStylesheets;i++) {
                var styleSheet = styleSheets[i];
                var cssRules = self.getStylesheetRules(styleSheet);
                var numOfCSSRules = cssRules.length;
                var cssRule;

                for (var j=0;j<numOfCSSRules;j++) {
                    cssRule = cssRules[j];

                    if (cssRule.media) {
                        var mediaRules = cssRule.cssRules;
                        var numOfMediaRules = mediaRules ? mediaRules.length : 0;

                        for(var k=0;k<numOfMediaRules;k++) {
                            var mediaRule = mediaRules[k];

                            if (mediaRule.selectorText==selectorIDText || mediaRule.selectorText==selectorClassText) {

                                if (mediaRule.style && property in mediaRule.style) {
                                    value = mediaRule.style.getPropertyValue(property);
                                    //console.log(property+":" + value);
                                    values.push(value);
                                }
                            }
                        }
                    }
                    else {

                        if (cssRule.selectorText==selectorIDText || cssRule.selectorText==selectorClassText) {
                            if (cssRule.style && property in cssRule.style) {
                                value = cssRule.style.getPropertyValue(property);
                                //console.log(property+":" + value);
                                values.push(value);
                            }
                        }
                    }
                }
            }

            return values.pop();
        }

        self.collectViews = function() {
            var viewIds = self.getViewIds();

            for (let index = 0; index < viewIds.length; index++) {
                const id = viewIds[index];
                const view = self.getViewById(id);
                self.views[id] = view;
            }

            self.viewIds = viewIds;
        }

        self.collectMediaQueries = function() {
            var viewIds = self.getViewIds();
            var styleSheet = self.getApplicationStylesheet();
            var cssRules = self.getStylesheetRules(styleSheet);
            var numOfCSSRules = cssRules.length;
            var cssRule;
            var id = null;
            var selectorIDText = "#" + id;
            var selectorClassText = "." + id + "_Class";

            for (var j=0;j<numOfCSSRules;j++) {
                cssRule = cssRules[j];

                if (cssRule.media) {
                    var mediaRules = cssRule.cssRules;
                    var numOfMediaRules = mediaRules ? mediaRules.length : 0;

                    for(var k=0;k<numOfMediaRules;k++) {
                        var mediaRule = mediaRules[k];
                        var mediaId = null;

                        if (k<2) {
                            mediaId = mediaRule.selectorText.replace(/[#|\s|*]?/g, "");

                            if (viewIds.indexOf(mediaId)!=-1) {
                                self.mediaQueryDictionary[mediaId] = cssRule;
                                self.addState(mediaId, cssRule);
                                break;
                            }
                        }
                        else {
                            break;
                        }
                    }
                }
                else {

                    if (cssRule.selectorText==selectorIDText || cssRule.selectorText==selectorClassText) {
                        continue;
                    }
                }
            }
        }

        self.addState = function(name, cssRule) {
            var state = {name:name, rule:cssRule};
            self.states.push(name);
            self.statesDictionary[name] = state;
        }

        self.hasState = function(name) {

            if (self.states.indexOf(name)!=-1) {
                return true;
            }
            return false;
        }

        self.goToState = function(name, maintainPreviousState) {
            var state = self.statesDictionary[name];

            if (state) {
                if (maintainPreviousState==false || maintainPreviousState==null) {
                    self.hideViews();
                }
                self.enableMediaQuery(state.rule);
                self.updateViewLabel();
                self.updateURL();
            }
            else {
                var event = new Event(self.STATE_NOT_FOUND);
                self.stateName = name;
                window.dispatchEvent(event);
            }
        }

        self.resizeHandler = function(event) {
            if (self.scaleViewsOnResize) {
                self.scaleViewToFit();
            }
        }

        self.preventDoubleClick = function(event) {
            event.stopImmediatePropagation();
        }

        self.hashChangeHandler = function(event) {
            var fragment = window.location.hash ? window.location.hash.replace("#", "") : "";
            var view = self.getViewById(fragment);

            if (view) {
                self.hideViews();
                self.showView(view);
                self.updateViewLabel();
            }
            else {
                window.dispatchEvent(new Event(self.VIEW_NOT_FOUND));
            }
        }

        self.popStateHandler = function(event) {
            var state = event.state;
            var fragment = state ? state.name : window.location.hash;
            var view = self.getViewById(fragment);

            if (view) {
                self.hideViews();
                self.showView(view);
                self.updateViewLabel();
            }
            else {
                window.dispatchEvent(new Event(self.VIEW_NOT_FOUND));
            }
        }

        self.doubleClickHandler = function(event) {
            var view = self.getVisibleView();
            var scaleValue = self.getViewScaleValue(view);
            var scaleNeededToFit = self.getViewFitToViewportScale(view);

            // Three scenarios
            // - scale to fit on double click
            // - set scale to actual size on double click
            // - switch between scale to fit and actual page size

            // if scale and actual size enabled then switch between
            if (self.scaleToFitOnDoubleClick && self.actualSizeOnDoubleClick) {
                var isViewScaled = view.getAttributeNS(null, self.SIZE_STATE_NAME);
                var isScaled = false;

                // if scale is not 1 then view needs scaling
                if (scaleNeededToFit!=1) {

                    // if current scale is at 1 it is at actual size
                    // scale it to fit
                    if (scaleValue==1) {
                        self.scaleViewToFit();
                        isScaled = true;
                    }
                    else {
                        // scale is not at 1 so switch to actual size
                        self.scaleViewToActualSize();
                        isScaled = false;
                    }
                }
                else {
                    // view is smaller than viewport
                    // so scale to fit() is scale actual size
                    // actual size and scaled size are the same
                    // but call scale to fit to retain centering
                    self.scaleViewToFit();
                    isScaled = false;
                }

                view.setAttributeNS(null, SIZE_STATE_NAME, isScaled+"");
                isViewScaled = view.getAttributeNS(null, SIZE_STATE_NAME);
            }
            else if (self.scaleToFitOnDoubleClick) {
                self.scaleViewToFit();
            }
            else if (self.actualSizeOnDoubleClick) {
                self.scaleViewToActualSize();
            }

        }

        self.scaleViewToFit = function() {
            var view = self.getVisibleView();
            return self.setViewScaleValue(view, 1, true, true);
        }

        self.scaleViewToActualSize = function() {
            var view = self.getVisibleView();
            self.setViewScaleValue(view, 1);
        }

        self.onloadHandler = function(event) {
            self.initialize();
        }

        self.getStackArray = function(error) {
            var value = "";

            if (error==null) {
                try {
                    error = new Error("Stack");
                }
                catch (e) {

                }
            }

            if ("stack" in error) {
                value = error.stack;
                var methods = value.match(/\\n/gm);

                var newArray = methods ? methods.map(function (value, index, array) {
                    value = value.replace("at ","");
                    return value;
                }) : null;

                if (newArray && newArray[0]=="getStackTrace") {
                    newArray.shift();
                }
                if (newArray && newArray[0]=="getStackArray") {
                    newArray.shift();
                }
                if (newArray && newArray[0]=="getFunctionName") {
                    newArray.shift();
                }
                if (newArray && newArray[0]=="object") {
                    newArray.shift();
                }
                if (newArray && newArray[0]=="log") {
                    newArray.shift();
                }

                return newArray;
            }

            return null;
        }

        this.log = function(value) {
            console.log.apply(this, [value]);
        }

        // initialize on load
        // sometimes the body size is 0 so we call this now and again later
        window.addEventListener("load", self.onloadHandler);
        window.document.addEventListener("DOMContentLoaded", self.onloadHandler);
    }

    var application = new Application();
    window.application = application;
</script>
</body>
</html>